{% extends 'base/base.html' %}
{% load i18n %}

{% block content %}
<div class="container-fluid py-4">
    <h1>Ø¥Ø¯Ø§Ø±Ø© ØµÙ„Ø§Ø­ÙŠØ§Øª: {{ user_obj.get_full_name|default:user_obj.username }}</h1>

    <form method="post">
        {% csrf_token %}

        <!-- Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª (Ø§Ù„Ø£Ø¯ÙˆØ§Ø±) -->
        <div class="card mb-4">
            <div class="card-header">
                <h5>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª (Ø§Ù„Ø£Ø¯ÙˆØ§Ø±)</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    {% for group in all_groups %}
                    <div class="col-md-6 mb-2">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox"
                                   name="groups" value="{{ group.id }}"
                                   {% if group.id in user_groups %}checked{% endif %}>
                            <label class="form-check-label">
                                {{ group.name }}
                            </label>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>

        <!-- Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ø© -->
        <div class="card mb-4">
            <div class="card-header">
                <h5>Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ø©</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    {% for permission in all_permissions %}
                    <div class="col-md-6 mb-2">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox"
                                   name="permissions" value="{{ permission.id }}"
                                   {% if permission.id in user_permissions %}checked{% endif %}>
                            <label class="form-check-label">
                                {{ permission.name }}
                                <small class="text-muted">({{ permission.content_type.model }})</small>
                            </label>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>

        <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø­ÙØ¸ -->
        <div class="d-flex gap-2">
            <button type="submit" class="btn btn-success">
                <i class="fas fa-save"></i> Ø­ÙØ¸ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª
            </button>
            <a href="{% url 'core:user_detail' pk=user_obj.pk %}" class="btn btn-secondary">
                Ø¥Ù„ØºØ§Ø¡
            </a>
        </div>
    </form>
</div>
{% endblock %}


{# templates/core/user_profiles/user_permissions.html #}
{#{% extends 'base/base.html' %}#}
{#{% load i18n static widget_tweaks %}#}
{##}
{#{% block title %}{{ title }}{% endblock %}#}
{##}
{#{% block content %}#}
{#<div class="container-fluid py-4">#}
{#    <!-- Breadcrumbs -->#}
{#    <nav aria-label="breadcrumb" class="mb-3">#}
{#        <ol class="breadcrumb">#}
{#            {% for breadcrumb in breadcrumbs %}#}
{#                {% if forloop.last %}#}
{#                    <li class="breadcrumb-item active">{{ breadcrumb.title }}</li>#}
{#                {% else %}#}
{#                    <li class="breadcrumb-item">#}
{#                        <a href="{{ breadcrumb.url }}">{{ breadcrumb.title }}</a>#}
{#                    </li>#}
{#                {% endif %}#}
{#            {% endfor %}#}
{#        </ol>#}
{#    </nav>#}
{##}
{#    <!-- Header -->#}
{#    <div class="d-flex justify-content-between align-items-center mb-4">#}
{#        <div>#}
{#            <h1 class="h3 mb-1">{{ title }}</h1>#}
{#            <p class="text-muted mb-0">{% trans "ØªØ®ØµÙŠØµ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…" %}</p>#}
{#        </div>#}
{#    </div>#}
{##}
{#    <!-- User Info -->#}
{#    <div class="card shadow-sm mb-4">#}
{#        <div class="card-header bg-primary text-white">#}
{#            <h6 class="card-title mb-0">#}
{#                <i class="fas fa-user"></i> {% trans "Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…" %}#}
{#            </h6>#}
{#        </div>#}
{#        <div class="card-body">#}
{#            <div class="d-flex align-items-center">#}
{#                <div class="flex-shrink-0 me-3">#}
{#                    <div class="user-avatar">#}
{#                        {{ user_obj.first_name.0|default:user_obj.username.0|upper }}#}
{#                    </div>#}
{#                </div>#}
{#                <div class="flex-grow-1">#}
{#                    <h5 class="mb-1">{{ user_obj.get_full_name|default:user_obj.username }}</h5>#}
{#                    <p class="text-muted mb-1">{{ user_obj.email }}</p>#}
{#                    <div class="d-flex align-items-center gap-2">#}
{#                        {% if user_obj.is_superuser %}#}
{#                            <span class="badge bg-danger">#}
{#                                <i class="fas fa-crown"></i> {% trans "Ù…Ø¯ÙŠØ± Ù†Ø¸Ø§Ù…" %}#}
{#                            </span>#}
{#                        {% elif user_obj.is_staff %}#}
{#                            <span class="badge bg-warning">#}
{#                                <i class="fas fa-user-tie"></i> {% trans "Ø·Ø§Ù‚Ù… Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©" %}#}
{#                            </span>#}
{#                        {% else %}#}
{#                            <span class="badge bg-secondary">#}
{#                                <i class="fas fa-user"></i> {% trans "Ù…Ø³ØªØ®Ø¯Ù… Ø¹Ø§Ø¯ÙŠ" %}#}
{#                            </span>#}
{#                        {% endif %}#}
{##}
{#                        {% if user_obj.is_active %}#}
{#                            <span class="badge bg-success">{% trans "Ù†Ø´Ø·" %}</span>#}
{#                        {% else %}#}
{#                            <span class="badge bg-secondary">{% trans "ØºÙŠØ± Ù†Ø´Ø·" %}</span>#}
{#                        {% endif %}#}
{#                    </div>#}
{#                </div>#}
{#            </div>#}
{#        </div>#}
{#    </div>#}
{##}
{#    <!-- Check if CustomPermission model exists -->#}
{#    {% load custom_tags %}#}
{#    {% if not custom_permissions_available %}#}
{#    <div class="alert alert-info border-0 shadow-sm mb-4" role="alert">#}
{#        <div class="d-flex align-items-center">#}
{#            <div class="flex-shrink-0">#}
{#                <i class="fas fa-info-circle fa-lg"></i>#}
{#            </div>#}
{#            <div class="flex-grow-1 ms-3">#}
{#                <h6 class="alert-heading mb-1">{% trans "Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…Ø®ØµØµØ© ØºÙŠØ± Ù…ØªØ§Ø­Ø©" %}</h6>#}
{#                <p class="mb-0">#}
{#                    {% trans "Ù„Ù… ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ ØµÙ„Ø§Ø­ÙŠØ§Øª Ù…Ø®ØµØµØ© Ø¨Ø¹Ø¯. ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªØ®Ø¯Ø§Ù… ØµÙ„Ø§Ø­ÙŠØ§Øª Django Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ù…Ù† Ø®Ù„Ø§Ù„ Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©." %}#}
{#                </p>#}
{#            </div>#}
{#        </div>#}
{#    </div>#}
{#    {% endif %}#}
{##}
{#    <!-- Permissions Form -->#}
{#    <form method="post" class="needs-validation" novalidate>#}
{#        {% csrf_token %}#}
{##}
{#        {% if user_obj.is_superuser %}#}
{#        <!-- ØªØ­Ø°ÙŠØ± Ù„Ù…Ø¯ÙŠØ±ÙŠ Ø§Ù„Ù†Ø¸Ø§Ù… -->#}
{#        <div class="alert alert-warning border-0 shadow-sm mb-4" role="alert">#}
{#            <div class="d-flex align-items-center">#}
{#                <div class="flex-shrink-0">#}
{#                    <i class="fas fa-crown fa-lg text-warning"></i>#}
{#                </div>#}
{#                <div class="flex-grow-1 ms-3">#}
{#                    <h6 class="alert-heading mb-1">{% trans "Ù…Ø¯ÙŠØ± Ù†Ø¸Ø§Ù…" %}</h6>#}
{#                    <small class="mb-0">#}
{#                        {% trans "Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø¯ÙŠØ± Ù†Ø¸Ø§Ù… ÙˆÙ„Ø¯ÙŠÙ‡ ØµÙ„Ø§Ø­ÙŠØ§Øª ÙƒØ§Ù…Ù„Ø© Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø£Ø¬Ø²Ø§Ø¡ Ø§Ù„Ù†Ø¸Ø§Ù… ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹." %}#}
{#                    </small>#}
{#                </div>#}
{#            </div>#}
{#        </div>#}
{#        {% endif %}#}
{##}
{#        <!-- Ø¹Ø±Ø¶ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ© Ù…Ù† Django -->#}
{#        <div class="card shadow-sm mb-4">#}
{#            <div class="card-header bg-info text-white">#}
{#                <h6 class="card-title mb-0">#}
{#                    <i class="fas fa-shield-alt"></i> {% trans "ØµÙ„Ø§Ø­ÙŠØ§Øª Django Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©" %}#}
{#                </h6>#}
{#            </div>#}
{#            <div class="card-body">#}
{#                <div class="row">#}
{#                    <div class="col-md-4">#}
{#                        <h6 class="text-muted">{% trans "Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©" %}</h6>#}
{#                        <ul class="list-unstyled">#}
{#                            <li>#}
{#                                {% if user_obj.is_superuser %}#}
{#                                    <i class="fas fa-check text-success"></i>#}
{#                                {% else %}#}
{#                                    <i class="fas fa-times text-muted"></i>#}
{#                                {% endif %}#}
{#                                {% trans "Ù…Ø¯ÙŠØ± Ù†Ø¸Ø§Ù…" %}#}
{#                            </li>#}
{#                            <li>#}
{#                                {% if user_obj.is_staff %}#}
{#                                    <i class="fas fa-check text-success"></i>#}
{#                                {% else %}#}
{#                                    <i class="fas fa-times text-muted"></i>#}
{#                                {% endif %}#}
{#                                {% trans "Ø¹Ø¶Ùˆ ÙÙŠ Ø§Ù„Ø·Ø§Ù‚Ù…" %}#}
{#                            </li>#}
{#                            <li>#}
{#                                {% if user_obj.is_active %}#}
{#                                    <i class="fas fa-check text-success"></i>#}
{#                                {% else %}#}
{#                                    <i class="fas fa-times text-muted"></i>#}
{#                                {% endif %}#}
{#                                {% trans "Ø­Ø³Ø§Ø¨ Ù†Ø´Ø·" %}#}
{#                            </li>#}
{#                        </ul>#}
{#                    </div>#}
{#                    <div class="col-md-8">#}
{#                        <h6 class="text-muted">{% trans "ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª" %}</h6>#}
{#                        {% if user_obj.groups.exists %}#}
{#                            <div class="d-flex flex-wrap gap-1">#}
{#                                {% for group in user_obj.groups.all %}#}
{#                                    <span class="badge bg-secondary">{{ group.name }}</span>#}
{#                                {% endfor %}#}
{#                            </div>#}
{#                        {% else %}#}
{#                            <p class="text-muted mb-0">{% trans "Ù„Ø§ ÙŠÙ†ØªÙ…ÙŠ Ù„Ø£ÙŠ Ù…Ø¬Ù…ÙˆØ¹Ø©" %}</p>#}
{#                        {% endif %}#}
{#                    </div>#}
{#                </div>#}
{#            </div>#}
{#        </div>#}
{##}
{#      <!-- Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª -->#}
{#{% if form.fields %}#}
{#<div class="row">#}
{#    {% for field_name, field in form.fields.items %}#}
{#        <div class="col-lg-6 mb-4">#}
{#            <div class="card shadow-sm h-100">#}
{#                <div class="card-header#}
{#                    {% if 'django_' in field_name %}bg-warning text-dark#}
{#                    {% else %}bg-success text-white#}
{#                    {% endif %}">#}
{#                    <h6 class="card-title mb-0">#}
{#                        {% if 'django_' in field_name %}#}
{#                            <i class="fas fa-cogs"></i>#}
{#                        {% else %}#}
{#                            <i class="fas fa-key"></i>#}
{#                        {% endif %}#}
{#                        {{ field.label }}#}
{#                        <span class="badge bg-light text-dark ms-2">{{ field.field.queryset.count }}</span>#}
{#                    </h6>#}
{#                </div>#}
{#                <div class="card-body">#}
{#                    <!-- Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø¨ÙŠØ§Ù†Ø§Øª -->#}
{#                    {% if field.field.queryset.count > 0 %}#}
{#                        <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… -->#}
{#                        <div class="d-flex justify-content-between align-items-center mb-3">#}
{#                            <small class="text-muted">{{ field.field.queryset.count }} ØµÙ„Ø§Ø­ÙŠØ© Ù…ØªØ§Ø­Ø©</small>#}
{#                            <div class="btn-group btn-group-sm">#}
{#                                <button type="button" class="btn btn-outline-success select-all-btn"#}
{#                                        data-category="{{ field_name }}">#}
{#                                    <i class="fas fa-check"></i> Ø§Ù„ÙƒÙ„#}
{#                                </button>#}
{#                                <button type="button" class="btn btn-outline-secondary deselect-all-btn"#}
{#                                        data-category="{{ field_name }}">#}
{#                                    <i class="fas fa-times"></i> Ù„Ø§ Ø´ÙŠØ¡#}
{#                                </button>#}
{#                            </div>#}
{#                        </div>#}
{##}
{#                        <!-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª -->#}
{#                        <div class="permissions-list border rounded p-2" style="max-height: 400px; overflow-y: auto;">#}
{#                            {% for permission in field.field.queryset %}#}
{#                                <div class="form-check mb-1">#}
{#                                    <input class="form-check-input" type="checkbox"#}
{#                                           name="{{ field_name }}"#}
{#                                           value="{{ permission.pk }}"#}
{#                                           id="id_{{ field_name }}_{{ forloop.counter0 }}"#}
{#                                           {% if permission.pk in field.initial %}checked{% endif %}>#}
{#                                    <label class="form-check-label small" for="id_{{ field_name }}_{{ forloop.counter0 }}">#}
{#                                        <strong>{{ permission.name }}</strong>#}
{#                                        {% if 'django_' in field_name %}#}
{#                                            <br><span class="text-muted">{{ permission.content_type.model|title }} | {{ permission.codename }}</span>#}
{#                                        {% elif permission.description %}#}
{#                                            <br><span class="text-muted">{{ permission.description }}</span>#}
{#                                        {% endif %}#}
{#                                    </label>#}
{#                                </div>#}
{#                            {% endfor %}#}
{#                        </div>#}
{#                    {% else %}#}
{#                        <!-- Ù„Ø§ ØªÙˆØ¬Ø¯ ØµÙ„Ø§Ø­ÙŠØ§Øª -->#}
{#                        <div class="text-center text-muted py-4">#}
{#                            <i class="fas fa-info-circle fa-2x mb-2"></i>#}
{#                            <p>Ù„Ø§ ØªÙˆØ¬Ø¯ ØµÙ„Ø§Ø­ÙŠØ§Øª ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„ØªØµÙ†ÙŠÙ</p>#}
{#                        </div>#}
{#                    {% endif %}#}
{#                </div>#}
{#            </div>#}
{#        </div>#}
{#    {% endfor %}#}
{#</div>#}
{#{% else %}#}
{#<div class="alert alert-warning">#}
{#    <i class="fas fa-exclamation-triangle"></i>#}
{#    <strong>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ù‚Ø³Ø§Ù… ØµÙ„Ø§Ø­ÙŠØ§Øª!</strong> ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ ØµÙ„Ø§Ø­ÙŠØ§Øª ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù….#}
{#</div>#}
{#{% endif %}#}
{##}
{##}
{##}
{#        <!-- Action Buttons -->#}
{#        <div class="card shadow-sm">#}
{#            <div class="card-body">#}
{#                <div class="d-flex justify-content-between align-items-center">#}
{#                    <a href="{{ cancel_url }}" class="btn btn-secondary">#}
{#                        <i class="fas fa-times"></i> {% trans "Ø¥Ù„ØºØ§Ø¡" %}#}
{#                    </a>#}
{##}
{#                    <div class="d-flex gap-2">#}
{#                        {% if form.fields %}#}
{#                        <button type="button" class="btn btn-outline-success" id="selectAllPermissions">#}
{#                            <i class="fas fa-check-double"></i> {% trans "ØªØ­Ø¯ÙŠØ¯ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª" %}#}
{#                        </button>#}
{#                        <button type="button" class="btn btn-outline-secondary" id="deselectAllPermissions">#}
{#                            <i class="fas fa-times"></i> {% trans "Ø¥Ù„ØºØ§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª" %}#}
{#                        </button>#}
{#                        {% endif %}#}
{#                        <button type="submit" class="btn btn-success">#}
{#                            <i class="fas fa-save"></i> {{ submit_text }}#}
{#                        </button>#}
{#                    </div>#}
{#                </div>#}
{#            </div>#}
{#        </div>#}
{#    </form>#}
{#</div>#}
{#{% endblock %}#}
{##}
{#{% block extra_css %}#}
{#<style>#}
{#.permissions-list {#}
{#    max-height: 400px;#}
{#    overflow-y: auto;#}
{#    border: 1px solid #dee2e6;#}
{#    border-radius: 0.375rem;#}
{#    padding: 0.5rem;#}
{#}#}
{##}
{#.form-check {#}
{#    transition: all 0.2s ease;#}
{#}#}
{##}
{#.form-check:hover {#}
{#    background-color: #f8f9fa;#}
{#}#}
{##}
{#.form-check-input:checked + .form-check-label {#}
{#    color: #0d6efd;#}
{#    font-weight: 500;#}
{#}#}
{##}
{#.btn-xs {#}
{#    padding: 0.25rem 0.5rem;#}
{#    font-size: 0.75rem;#}
{#}#}
{##}
{#.card-header small {#}
{#    font-size: 0.8rem;#}
{#}#}
{#</style>#}
{#{% endblock %}#}
{##}
{#{% block extra_js %}#}
{#<script>#}
{#document.addEventListener('DOMContentLoaded', function() {#}
{#    console.log('ğŸ”§ ØªÙ… ØªØ­Ù…ÙŠÙ„ ØµÙØ­Ø© Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª');#}
{##}
{#    // Ø¹Ø¯ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…Ø¹Ø±ÙˆØ¶Ø©#}
{#    const totalFields = document.querySelectorAll('.card').length;#}
{#    const totalCheckboxes = document.querySelectorAll('input[type="checkbox"]').length;#}
{#    console.log(`ğŸ“Š Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª: ${totalFields} Ù‚Ø³Ù…ØŒ ${totalCheckboxes} ØµÙ„Ø§Ø­ÙŠØ©`);#}
{##}
{#    // Ø£Ø²Ø±Ø§Ø± ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ÙƒÙ„#}
{#    document.querySelectorAll('.select-all-btn').forEach(btn => {#}
{#        btn.addEventListener('click', function() {#}
{#            const category = this.dataset.category;#}
{#            const checkboxes = document.querySelectorAll(`input[name="${category}"]`);#}
{#            checkboxes.forEach(checkbox => {#}
{#                checkbox.checked = true;#}
{#            });#}
{#            console.log(`âœ… ØªÙ… ØªØ­Ø¯ÙŠØ¯ Ø¬Ù…ÙŠØ¹ ØµÙ„Ø§Ø­ÙŠØ§Øª ${category}`);#}
{#        });#}
{#    });#}
{##}
{#    // Ø£Ø²Ø±Ø§Ø± Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ÙƒÙ„#}
{#    document.querySelectorAll('.deselect-all-btn').forEach(btn => {#}
{#        btn.addEventListener('click', function() {#}
{#            const category = this.dataset.category;#}
{#            const checkboxes = document.querySelectorAll(`input[name="${category}"]`);#}
{#            checkboxes.forEach(checkbox => {#}
{#                checkbox.checked = false;#}
{#            });#}
{#            console.log(`âŒ ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ø¬Ù…ÙŠØ¹ ØµÙ„Ø§Ø­ÙŠØ§Øª ${category}`);#}
{#        });#}
{#    });#}
{##}
{#    // ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­ÙØ¸#}
{#    const form = document.querySelector('form');#}
{#    if (form) {#}
{#        form.addEventListener('submit', function(e) {#}
{#            const checkedCount = document.querySelectorAll('input[type="checkbox"]:checked').length;#}
{#            console.log(`ğŸ’¾ Ø¬Ø§Ø±ÙŠ Ø­ÙØ¸ ${checkedCount} ØµÙ„Ø§Ø­ÙŠØ©`);#}
{##}
{#            if (checkedCount === 0) {#}
{#                if (!confirm('Ù„Ù… ÙŠØªÙ… ØªØ­Ø¯ÙŠØ¯ Ø£ÙŠ ØµÙ„Ø§Ø­ÙŠØ§Øª. Ù‡Ù„ ØªØ±ÙŠØ¯ Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø©ØŸ')) {#}
{#                    e.preventDefault();#}
{#                }#}
{#            }#}
{#        });#}
{#    }#}
{#});#}
{#</script>#}
{#{% endblock %}#}