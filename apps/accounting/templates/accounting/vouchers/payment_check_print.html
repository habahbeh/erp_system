<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ title }}</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f0f0f0;
            padding: 20px;
        }

        .check-container {
            width: 210mm;
            height: 99mm;
            margin: 0 auto;
            background: white;
            position: relative;
            border: 1px dashed #ccc;
            overflow: hidden;
        }

        /* خلفية الشيك */
        .check-background {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background:
                repeating-linear-gradient(
                    45deg,
                    transparent,
                    transparent 10px,
                    rgba(0, 123, 255, 0.02) 10px,
                    rgba(0, 123, 255, 0.02) 20px
                );
        }

        /* محتوى الشيك */
        .check-content {
            position: relative;
            padding: 20mm 15mm;
            height: 100%;
        }

        /* رأس الشيك */
        .check-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 15mm;
            padding-bottom: 5mm;
            border-bottom: 2px solid #0d6efd;
        }

        .bank-info {
            flex: 1;
        }

        .bank-name {
            font-size: 20pt;
            font-weight: bold;
            color: #0d6efd;
            margin-bottom: 2mm;
        }

        .bank-address {
            font-size: 9pt;
            color: #666;
        }

        .check-number-box {
            text-align: center;
            padding: 3mm;
            border: 2px solid #0d6efd;
            border-radius: 5px;
            background: #f8f9fa;
        }

        .check-number-label {
            font-size: 8pt;
            color: #666;
            display: block;
        }

        .check-number-value {
            font-size: 16pt;
            font-weight: bold;
            color: #0d6efd;
        }

        /* تاريخ الشيك */
        .check-date-row {
            text-align: left;
            margin-bottom: 8mm;
            font-size: 11pt;
        }

        .check-date {
            display: inline-block;
            padding: 2mm 5mm;
            border-bottom: 1px solid #333;
            min-width: 40mm;
            text-align: center;
        }

        /* المستفيد */
        .payee-row {
            margin-bottom: 8mm;
            font-size: 11pt;
        }

        .payee-label {
            display: inline-block;
            font-weight: bold;
            margin-left: 3mm;
        }

        .payee-name {
            display: inline-block;
            padding: 2mm 5mm;
            border-bottom: 2px solid #333;
            min-width: 120mm;
            font-weight: bold;
            font-size: 13pt;
        }

        /* المبلغ بالأرقام */
        .amount-numeric-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8mm;
        }

        .amount-label {
            font-weight: bold;
            font-size: 11pt;
        }

        .amount-box {
            border: 2px solid #0d6efd;
            padding: 3mm 8mm;
            background: #fff3cd;
            border-radius: 5px;
            min-width: 50mm;
            text-align: center;
        }

        .amount-value {
            font-size: 18pt;
            font-weight: bold;
            color: #198754;
        }

        /* المبلغ بالحروف */
        .amount-words-row {
            margin-bottom: 8mm;
        }

        .amount-words-label {
            font-weight: bold;
            font-size: 10pt;
            margin-bottom: 2mm;
            display: block;
        }

        .amount-words {
            padding: 3mm;
            border: 2px dashed #666;
            background: #f8f9fa;
            min-height: 12mm;
            font-size: 11pt;
            font-weight: bold;
            display: flex;
            align-items: center;
        }

        /* التوقيع */
        .signature-area {
            margin-top: 10mm;
            text-align: left;
        }

        .signature-line {
            display: inline-block;
            width: 50mm;
            border-top: 1px solid #333;
            padding-top: 2mm;
            text-align: center;
            font-size: 9pt;
        }

        /* أزرار التحكم */
        .print-controls {
            text-align: center;
            margin: 20px 0;
        }

        .btn {
            padding: 10px 30px;
            margin: 0 5px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
        }

        .btn-primary {
            background: #0d6efd;
            color: white;
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn:hover {
            opacity: 0.9;
        }

        @media print {
            body {
                background: white;
                padding: 0;
            }

            .check-container {
                border: none;
                margin: 0;
                width: 210mm;
                height: 99mm;
            }

            .print-controls {
                display: none;
            }
        }

        /* علامات أمان */
        .security-features {
            position: absolute;
            bottom: 5mm;
            left: 15mm;
            right: 15mm;
            font-size: 7pt;
            color: #999;
            text-align: center;
            border-top: 1px solid #ddd;
            padding-top: 2mm;
        }
    </style>
</head>
<body>
    <div class="print-controls">
        <button class="btn btn-primary" onclick="window.print()">
            <i class="fas fa-print"></i> طباعة الشيك
        </button>
        <button class="btn btn-secondary" onclick="window.close()">
            <i class="fas fa-times"></i> إغلاق
        </button>
    </div>

    <div class="check-container">
        <div class="check-background"></div>

        <div class="check-content">
            <!-- رأس الشيك -->
            <div class="check-header">
                <div class="bank-info">
                    <div class="bank-name">{{ voucher.bank_name|default:"اسم البنك" }}</div>
                    <div class="bank-address">{{ company.address|default:"عنوان البنك" }}</div>
                </div>
                <div class="check-number-box">
                    <span class="check-number-label">رقم الشيك</span>
                    <div class="check-number-value">{{ voucher.check_number }}</div>
                </div>
            </div>

            <!-- التاريخ -->
            <div class="check-date-row">
                <strong>التاريخ:</strong>
                <span class="check-date">{{ voucher.check_date|date:"Y/m/d" }}</span>
            </div>

            <!-- المستفيد -->
            <div class="payee-row">
                <span class="payee-label">ادفعوا لأمر:</span>
                <span class="payee-name">{{ voucher.beneficiary_name }}</span>
            </div>

            <!-- المبلغ بالأرقام -->
            <div class="amount-numeric-row">
                <span class="amount-label">المبلغ:</span>
                <div class="amount-box">
                    <div class="amount-value">{{ voucher.amount|floatformat:3 }}</div>
                    <div style="font-size: 10pt; color: #666;">{{ voucher.currency.name }}</div>
                </div>
            </div>

            <!-- المبلغ بالحروف -->
            <div class="amount-words-row">
                <span class="amount-words-label">مبلغ وقدره:</span>
                <div class="amount-words">
                    فقط {{ voucher.amount|floatformat:0 }} {{ voucher.currency.name }} لا غير
                </div>
            </div>

            <!-- التوقيع -->
            <div class="signature-area">
                <div class="signature-line">
                    التوقيع
                </div>
            </div>

            <!-- علامات الأمان -->
            <div class="security-features">
                {{ company.name }} | {{ voucher.number }} | تاريخ الإصدار: {{ voucher.date|date:"Y/m/d" }}
            </div>
        </div>
    </div>

    <script>
        // طباعة تلقائية عند التحميل (اختياري)
        // window.onload = function() { window.print(); }
    </script>
</body>
</html>