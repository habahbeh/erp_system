# Accounting Module Documentation | ุฏููู ุงููุญุฏุฉ ุงููุญุงุณุจูุฉ

<div dir="rtl" lang="ar">

## ูุธุฑุฉ ุนุงูุฉ ุนูู ุงููุญุฏุฉ ุงููุญุงุณุจูุฉ

### ุงูููุฏูุฉ
ุงููุญุฏุฉ ุงููุญุงุณุจูุฉ ูู ูุธุงู ูุญุงุณุจู ูุชูุงูู ูุนุชูุฏ ุนูู ุงูููุฏ ุงููุฒุฏูุฌุ ูุตูู ูุชูุจูุฉ ุงุญุชูุงุฌุงุช ุงูุดุฑูุงุช ุงููุชุนุฏุฏุฉ ูุงููุฑูุน ุงููุชุนุฏุฏุฉ. ูููุฑ ุงููุธุงู ุฅุฏุงุฑุฉ ูุงููุฉ ุดุงููุฉ ุชุดูู ุฏููู ุงูุญุณุงุจุงุชุ ุงููููุฏ ุงูููููุฉุ ุณูุฏุงุช ุงูุตุฑู ูุงููุจุถุ ุงููุชุฑุงุช ุงููุงููุฉุ ูุฑุงูุฒ ุงูุชูููุฉุ ูุงูุชูุงุฑูุฑ ุงููุงููุฉ.

### ุงููุณุงุฑ ุงูุฑุฆูุณู
- **ูุณุงุฑ ุงููุญุฏุฉ:** `/accounting/`
- **ุงููุบุฉ ุงูุฃุณุงุณูุฉ:** ุงูุนุฑุจูุฉ ูุน ุฏุนู RTL
- **ูุณุชูู ุงูุชูุงูู:** ุนุงูู - ูุชูุงูู ูุน ูุญุฏุงุช ุงููุธุงู ุงูุฃุณุงุณู ูุงูุฃุตูู

---

## ุงูููุฒุงุช ุงูุฃุณุงุณูุฉ

### 1. ุงููุญุงุณุจุฉ ุจุงูููุฏ ุงููุฒุฏูุฌ
- โ ุชุทุจูู ุตุงุฑู ููุจุฏุฃ ุงูููุฏ ุงููุฒุฏูุฌ (ุงููุฏูู = ุงูุฏุงุฆู)
- โ ุงูุชุญูู ุงูุชููุงุฆู ูู ุงูุชูุงุฒู
- โ ุณุฌู ุชุฏููู ูุงูู ูุฌููุน ุงููุนุงููุงุช

### 2. ุฏููู ุงูุญุณุงุจุงุช ุงูุดุฌุฑู
- ๐ ูููู ูุฑูู ูุตู ุฅูู 4 ูุณุชููุงุช
- ๐ ุฃููุงุน ุงูุญุณุงุจุงุช ุงูุฎูุณุฉ ุงูุฑุฆูุณูุฉ:
  - **ุงูุฃุตูู** (Assets)
  - **ุงูุฎุตูู** (Liabilities)
  - **ุญููู ุงูููููุฉ** (Equity)
  - **ุงูุฅูุฑุงุฏุงุช** (Revenue)
  - **ุงููุตุฑููุงุช** (Expenses)
- ๐ ุนูุงูุงุช ุงูุฃุจ/ุงูุงุจู
- ๐ ุชุญุฏูุฏ ุญุณุงุจุงุช ุงูููุฏูุฉ ูุงูุจููู

### 3. ุงููููุฏ ุงูููููุฉ
- ๐ ูููุฏ ูุฏููุฉ ูุชููุงุฆูุฉ
- ๐ ุฅูุดุงุก ุงููููุฏ ูู ุงูููุงูุจ ุงููุญููุธุฉ
- ๐ ูููุฏ ูุชุนุฏุฏุฉ ุงูุฃุณุทุฑ
- ๐ ุชูุฒูุน ุนูู ูุฑุงูุฒ ุงูุชูููุฉ
- ๐ ุฏุนู ูุชุนุฏุฏ ุงูุนููุงุช ูุน ุฃุณุนุงุฑ ุงูุตุฑู
- ๐ ุญุงูุงุช ุงูููุฏ:
  - **ูุณูุฏุฉ** (Draft) - ูุงุจู ููุชุนุฏูู
  - **ููุฑุญููู** (Posted) - ุชู ุงูุชุฑุญูู ูุชุญุฏูุซ ุงูุฃุฑุตุฏุฉ
  - **ููุบู** (Cancelled) - ููุบู

### 4. ุฅุฏุงุฑุฉ ุงูููุฏูุฉ ูุงูุจููู

#### ุณูุฏุงุช ุงูุตุฑู (Payment Vouchers)
- ๐ฐ ุฅูุดุงุก ุณูุฏุงุช ุตุฑู ูุฌููุน ุงููุฏููุนุงุช
- ๐ฐ ุทุฑู ุงูุฏูุน ุงููุชุนุฏุฏุฉ:
  - ููุฏู
  - ุดูู
  - ุชุญููู ุจููู
  - ุจุทุงูุฉ ุงุฆุชูุงู
- ๐ฐ ุฑุจุท ุชููุงุฆู ุจูููุฏ ุงูููููุฉ
- ๐ฐ ุทุจุงุนุฉ ุงูุดููุงุช

#### ุณูุฏุงุช ุงููุจุถ (Receipt Vouchers)
- ๐ต ุฅูุดุงุก ุณูุฏุงุช ูุจุถ ูุฌููุน ุงูููุจูุถุงุช
- ๐ต ุทุฑู ุงููุจุถ ุงููุชุนุฏุฏุฉ
- ๐ต ุฑุจุท ุชููุงุฆู ุจูููุฏ ุงูููููุฉ
- ๐ต ุทุจุงุนุฉ ุงูุฅูุตุงูุงุช

### 5. ุฅุฏุงุฑุฉ ุงููุชุฑุงุช ุงููุงููุฉ

#### ุงูุณููุงุช ุงููุงููุฉ (Fiscal Years)
- ๐ ุฏุนู ุณููุงุช ูุงููุฉ ูุชุนุฏุฏุฉ
- ๐ ูุฑููุฉ ูู ุชุญุฏูุฏ ุจุฏุงูุฉ ูููุงูุฉ ุงูุณูุฉ
- ๐ ุฅุฏุงุฑุฉ ุฅููุงู ุงูุณููุงุช
- ๐ ุชุฑุญูู ุงูุฃุฑุตุฏุฉ ุงูุงูุชุชุงุญูุฉ

#### ุงููุชุฑุงุช ุงููุญุงุณุจูุฉ (Accounting Periods)
- ๐ ูุชุฑุงุช ุดูุฑูุฉ ุฃู ุฑุจุน ุณูููุฉ
- ๐ ุฅูุดุงุก ุชููุงุฆู ูููุชุฑุงุช
- ๐ ูุชุญ ูุฅุบูุงู ุงููุชุฑุงุช
- ๐ ูุชุฑุงุช ุงูุชุณููุฉ ูู ููุงูุฉ ุงูุนุงู
- ๐ ููุน ุฅุฏุฎุงู ูููุฏ ูู ุงููุชุฑุงุช ุงููุบููุฉ

### 6. ูุฑุงูุฒ ุงูุชูููุฉ
- ๐ฏ ูููู ูุฑูู ููุฑุงูุฒ ุงูุชูููุฉ
- ๐ฏ ุฃููุงุน ูุฑุงูุฒ ุงูุชูููุฉ:
  - ูุฑุน
  - ูุจูุนุงุช
  - ุฎุฏูุงุช
  - ุฅุฏุงุฑุฉ
  - ุฅูุชุงุฌ
  - ุชุณููู
  - ุตูุงูุฉ
- ๐ฏ ุชุฎุตูุต ุนูู ูุณุชูู ุงูุณุทุฑ
- ๐ฏ ุชุนููู ูุฏูุฑ ููู ูุฑูุฒ ุชูููุฉ

---

## ุงููููู ุงูุชูุตููู ููููุงุฐุฌ (Models)

### 1. ููุงุฐุฌ ุงูุญุณุงุจุงุช

#### AccountType - ููุน ุงูุญุณุงุจ
**ุงูุบุฑุถ:** ุชุญุฏูุฏ ุงูุฃููุงุน ุงูุฎูุณุฉ ุงูุฑุฆูุณูุฉ ููุญุณุงุจุงุช

**ุงูุญููู ุงูุฑุฆูุณูุฉ:**
- `code` - ุงูุฑูุฒ ุงููุฑูุฏ
- `name` - ุงุณู ุงูููุน
- `type_category` - ุงูุชุตููู (ุฃุตููุ ุฎุตููุ ุญููู ููููุฉุ ุฅูุฑุงุฏุงุชุ ูุตุฑููุงุช)
- `normal_balance` - ุงูุฑุตูุฏ ุงูุทุจูุนู (ูุฏูู ุฃู ุฏุงุฆู)

#### Account - ุงูุญุณุงุจ
**ุงูุบุฑุถ:** ุฏููู ุงูุญุณุงุจุงุช - ูููู ูุฑูู ูุตู ุฅูู 4 ูุณุชููุงุช

**ุงูุญููู ุงูุฃุณุงุณูุฉ:**
- `code` - ููุฏ ุงูุญุณุงุจ (ูุฑูุฏ ููู ุดุฑูุฉ)
- `name` - ุงูุงุณู ุงูุนุฑุจู
- `name_en` - ุงูุงุณู ุงูุฅูุฌููุฒู (ุงุฎุชูุงุฑู)
- `account_type` - ููุน ุงูุญุณุงุจ
- `parent` - ุงูุญุณุงุจ ุงูุฃุจ (ููุญุณุงุจุงุช ุงููุฑุนูุฉ)
- `currency` - ุงูุนููุฉ ุงูุงูุชุฑุงุถูุฉ
- `nature` - ุทุจูุนุฉ ุงูุญุณุงุจ (ูุฏููุ ุฏุงุฆูุ ุฃู ููุงููุง)
- `level` - ุงููุณุชูู ูู ุงููููู ุงููุฑูู (1-4)
- `opening_balance` - ุงูุฑุตูุฏ ุงูุงูุชุชุงุญู
- `opening_balance_date` - ุชุงุฑูุฎ ุงูุฑุตูุฏ ุงูุงูุชุชุงุญู
- `is_suspended` - ุญุณุงุจ ููููู
- `is_cash_account` - ุญุณุงุจ ููุฏูุฉ
- `is_bank_account` - ุญุณุงุจ ุจููู
- `accept_entries` - ููุจู ูููุฏ (false ููุญุณุงุจุงุช ุงูุฃุจ ุงูุชู ููุง ุฃุจูุงุก)
- `can_have_children` - ูููู ุฃู ูููู ูู ุญุณุงุจุงุช ูุฑุนูุฉ
- `is_system_account` - ุญุณุงุจ ูุธุงู ูุญูู

**ููุงุนุฏ ุงูุนูู:**
- ุงูุญุฏ ุงูุฃูุตู 4 ูุณุชููุงุช ูุฑููุฉ
- ุงูุญุณุงุจุงุช ุงูุฃุจ ูุง ูููููุง ูุจูู ูููุฏ ุฅุฐุง ูุงู ููุง ุฃุจูุงุก
- ุงูููุฏ ูุฌุจ ุฃู ูููู ูุฑูุฏุงู ููู ุดุฑูุฉ
- ุงููุณุชูู ูุญุณุจ ุชููุงุฆูุงู ุจูุงุกู ุนูู ุงูุญุณุงุจ ุงูุฃุจ

#### CostCenter - ูุฑูุฒ ุงูุชูููุฉ
**ุงูุบุฑุถ:** ุฅุฏุงุฑุฉ ูุฑุงูุฒ ุงูุชูููุฉ/ุงูุฑุจุญ ูุชุชุจุน ุงููุตุฑููุงุช

**ุงูุญููู ุงูุฑุฆูุณูุฉ:**
- `code` - ุงูุฑูุฒ ุงููุฑูุฏ ููู ุดุฑูุฉ
- `name` - ุงุณู ูุฑูุฒ ุงูุชูููุฉ
- `parent` - ูุฑูุฒ ุงูุชูููุฉ ุงูุฃุจ (ูููููู ุงููุฑูู)
- `cost_center_type` - ุงูููุน (ูุฑุนุ ูุจูุนุงุชุ ุฎุฏูุงุชุ ุฅุฏุงุฑุฉุ ุฅูุชุงุฌุ ุชุณูููุ ุตูุงูุฉ)
- `manager` - ุงููุฏูุฑ ุงููุณุคูู (ุงุฎุชูุงุฑู)
- `level` - ุงููุณุชูู ุงููุฑูู (ูุญุณุจ ุชููุงุฆูุงู)

### 2. ููุงุฐุฌ ุงููุชุฑุงุช ุงููุงููุฉ

#### FiscalYear - ุงูุณูุฉ ุงููุงููุฉ
**ุงูุบุฑุถ:** ุชุญุฏูุฏ ุงูุณููุงุช ุงููุงููุฉ ููุดุฑูุฉ

**ุงูุญููู ุงูุฑุฆูุณูุฉ:**
- `code` - ุงูุฑูุฒ ุงููุฑูุฏ ููู ุดุฑูุฉ
- `name` - ุงุณู ุงูุณูุฉ (ูุซุงู: "ุงูุณูุฉ ุงููุงููุฉ 2024")
- `start_date` - ุชุงุฑูุฎ ุจุฏุงูุฉ ุงูุณูุฉ
- `end_date` - ุชุงุฑูุฎ ููุงูุฉ ุงูุณูุฉ
- `is_closed` - ูููููุฉ

**ููุงุนุฏ ุงูุนูู:**
- ูููู ููุดุฑูุฉ ุงููุงุญุฏุฉ ุฃู ูููู ููุง ุณููุงุช ูุงููุฉ ูุชุนุฏุฏุฉ
- ุงูุชูุงุฑูุฎ ูุฌุจ ุฃูุง ุชุชุฏุงุฎู
- ูููู ุฃู ุชูุชุฏ ุนุจุฑ ุณููุงุช ุบูุฑ ุชูููููุฉ

#### AccountingPeriod - ุงููุชุฑุฉ ุงููุญุงุณุจูุฉ
**ุงูุบุฑุถ:** ุงููุชุฑุงุช ุงูุดูุฑูุฉ/ุงูุฑุจุน ุณูููุฉ ุถูู ุงูุณูุฉ ุงููุงููุฉ

**ุงูุญููู ุงูุฑุฆูุณูุฉ:**
- `fiscal_year` - ุงูุณูุฉ ุงููุงููุฉ
- `name` - ุงุณู ุงููุชุฑุฉ (ูุซุงู: "ููุงูุฑ 2024")
- `start_date` - ุจุฏุงูุฉ ุงููุชุฑุฉ
- `end_date` - ููุงูุฉ ุงููุชุฑุฉ
- `is_closed` - ูููููุฉ
- `is_adjustment` - ูุชุฑุฉ ุชุณููุฉ (ูุชุณููุงุช ููุงูุฉ ุงูุนุงู)

**ููุงุนุฏ ุงูุนูู:**
- ูุฌุจ ุฃู ุชูุน ุถูู ุชูุงุฑูุฎ ุงูุณูุฉ ุงููุงููุฉ
- ูุง ูููู ุฅุฏุฎุงู ูููุฏ ูู ุงููุชุฑุงุช ุงูููููุฉ
- ุนุงุฏุฉู 12 ูุชุฑุฉ ูู ุงูุณูุฉ + ูุชุฑุฉ ุชุณููุฉ ุงุฎุชูุงุฑูุฉ

### 3. ููุงุฐุฌ ุงููููุฏ ุงูููููุฉ

#### JournalEntry - ุงูููุฏ ุงููููู
**ุงูุบุฑุถ:** ูุณุชูุฏ ุงูููุฏ ุงููููู ุงูุฑุฆูุณู ูุน ูุญุงุณุจุฉ ุงูููุฏ ุงููุฒุฏูุฌ

**ุงูุญููู ุงูุฑุฆูุณูุฉ:**
- `number` - ุงูุฑูู ุงููุฑูุฏ ุงูููููููุฏ ุชููุงุฆูุงู
- `entry_date` - ุชุงุฑูุฎ ุงูููุฏ
- `entry_type` - ุงูููุน (ูุฏููุ ุชููุงุฆูุ ุงูุชุชุงุญูุ ุฎุชุงููุ ุชุณููุฉ)
- `status` - ุงูุญุงูุฉ (ูุณูุฏุฉุ ููุฑุญูููุ ููุบู)
- `fiscal_year` - ุงูุณูุฉ ุงููุงููุฉ (ุชูุนูููู ุชููุงุฆูุงู)
- `period` - ุงููุชุฑุฉ ุงููุญุงุณุจูุฉ (ุชูุนูููู ุชููุงุฆูุงู)
- `description` - ูุตู ุงูููุฏ
- `reference` - ุงููุฑุฌุน ุงูุฎุงุฑุฌู
- `total_debit` - ุฅุฌูุงูู ุงููุฏูู (ูุญุณุจ ุชููุงุฆูุงู)
- `total_credit` - ุฅุฌูุงูู ุงูุฏุงุฆู (ูุญุณุจ ุชููุงุฆูุงู)
- `is_balanced` - ูุชูุงุฒู (ูุญุณุจ ุชููุงุฆูุงู)
- `posted_by` - ุงููุณุชุฎุฏู ุงูุฐู ุฑุญููู ุงูููุฏ
- `posted_date` - ุชุงุฑูุฎ ุงูุชุฑุญูู
- `template` - ุงููุงูุจ ุงููุณุชุฎุฏู (ุฅุฐุง ุชู ุงูุฅูุดุงุก ูู ูุงูุจ)

**ููุงุนุฏ ุงูุนูู:**
- ุงูุฑูู ููููููุฏ ุชููุงุฆูุงู ุนูุฏ ุงูุญูุธ ุจุงุณุชุฎุฏุงู NumberingSequence
- ุงูุณูุฉ ุงููุงููุฉ/ุงููุชุฑุฉ ุชูุนูููู ุชููุงุฆูุงู ุจูุงุกู ุนูู entry_date
- ูุฌุจ ุฃู ูููู ูุชูุงุฒูุงู (total_debit = total_credit) ููุชุฑุญูู
- ูุง ูููู ุงูุชุนุฏูู/ุงูุญุฐู ุนูุฏ ุงูุชุฑุญูู
- ููุญุฏููุซ AccountBalance ุนูุฏ ุงูุชุฑุญูู/ุฅูุบุงุก ุงูุชุฑุญูู

**ุงููุธุงุฆู ุงูุฑุฆูุณูุฉ:**
- `post(user)` - ุชุฑุญูู ุงูููุฏ ูุชุญุฏูุซ ุงูุฃุฑุตุฏุฉ
- `unpost()` - ุนูุณ ุงูุชุฑุญูู
- `reverse_entry(user, date, reason)` - ุฅูุดุงุก ููุฏ ุนูุณู
- `can_edit()` - ุงูุชุญูู ูู ุฅููุงููุฉ ุงูุชุนุฏูู
- `can_post()` - ุงูุชุญูู ูู ุฅููุงููุฉ ุงูุชุฑุญูู
- `can_delete()` - ุงูุชุญูู ูู ุฅููุงููุฉ ุงูุญุฐู

**ุณูุฑ ุงูุนูู:**
1. ุฅูุดุงุก ุงูููุฏ (ูุณูุฏุฉ)
2. ุฅุถุงูุฉ ุงูุฃุณุทุฑ
3. ุงูุชุญูู ูู ุงูุชูุงุฒู
4. ุงูุชุฑุญูู (ููุดุฆ/ูุญุฏุซ ุณุฌูุงุช AccountBalance)
5. ุงุฎุชูุงุฑู: ุฅูุบุงุก ุงูุชุฑุญูู ุฃู ุงูุนูุณ

#### JournalEntryLine - ุณุทุฑ ุงูููุฏ ุงููููู
**ุงูุบุฑุถ:** ุงูุฃุณุทุฑ ุงููุฑุฏูุฉ ุถูู ุงูููุฏ ุงููููู

**ุงูุญููู ุงูุฑุฆูุณูุฉ:**
- `journal_entry` - ุงูููุฏ ุงููููู (ุญุฐู ุชุณูุณูู)
- `line_number` - ุฑูู ุงูุชุณูุณู
- `account` - ุงูุญุณุงุจ
- `description` - ูุตู ุงูุณุทุฑ
- `debit_amount` - ุงููุจูุบ ุงููุฏูู (>= 0)
- `credit_amount` - ุงููุจูุบ ุงูุฏุงุฆู (>= 0)
- `currency` - ุงูุนููุฉ
- `exchange_rate` - ุณุนุฑ ุงูุตุฑู (ุงูุชุฑุงุถู 1)
- `cost_center` - ูุฑูุฒ ุงูุชูููุฉ (ุงุฎุชูุงุฑู)

**ููุงุนุฏ ุงูุนูู:**
- ูุง ูููู ุฃู ูููู ููุณุทุฑ ูุจูุบ ูุฏูู ูุฏุงุฆู ูุนุงู
- ูุฌุจ ุฃู ูููู ูู ูุจูุบ ูุงุญุฏ ุนูู ุงูุฃูู
- ุงููุจุงูุบ ูุฌุจ ุฃู ุชููู ุบูุฑ ุณุงูุจุฉ
- ุงูุญุณุงุจ ูุฌุจ ุฃู ููุจู ุงููููุฏ

#### JournalEntryTemplate - ูุงูุจ ุงูููุฏ ุงููููู
**ุงูุบุฑุถ:** ููุงูุจ ูุงุจูุฉ ูุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู ูููููุฏ ุงููุชูุฑุฑุฉ

**ุงูุญููู ุงูุฑุฆูุณูุฉ:**
- `code` - ููุฏ ุงููุงูุจ
- `name` - ุงุณู ุงููุงูุจ
- `description` - ุงููุตู
- `entry_type` - ุงูููุน
- `default_description` - ุงููุตู ุงูุงูุชุฑุงุถู ููููุฏ
- `auto_balance` - ููุงุฒูุฉ ุชููุงุฆูุฉ ูููุจูุบ
- `category` - ูุฆุฉ ุงููุงูุจ ููุชุฌููุน

**ุงููุธุงุฆู:**
- `create_journal_entry(**kwargs)` - ุฅูุดุงุก ููุฏ ูู ุงููุงูุจ
- `is_balanced()` - ุงูุชุญูู ูู ุชูุงุฒู ุงููุงูุจ

### 4. ููุงุฐุฌ ุงูุณูุฏุงุช

#### PaymentVoucher - ุณูุฏ ุงูุตุฑู
**ุงูุบุฑุถ:** ุณูุฏุงุช ุตุฑู ุงูููุฏูุฉ/ุงูุจูู

**ุงูุญููู ุงูุฑุฆูุณูุฉ:**
- `number` - ุชูููููุฏ ุชููุงุฆูุงู (PV{YYYYMM}{0001})
- `date` - ุชุงุฑูุฎ ุงูุตุฑู
- `status` - ุงูุญุงูุฉ (ูุณูุฏุฉุ ูุคูุฏุ ููุฑุญูููุ ููุบู)
- `beneficiary_name` - ุงุณู ุงููุณุชููุฏ
- `beneficiary_type` - ููุน ุงููุณุชููุฏ (ููุฑุฏุ ููุธูุ ุขุฎุฑ)
- `amount` - ูุจูุบ ุงูุตุฑู
- `currency` - ุงูุนููุฉ
- `payment_method` - ุทุฑููุฉ ุงูุฏูุน (ููุฏูุ ุดููุ ุชุญูููุ ุจุทุงูุฉ ุงุฆุชูุงู)
- `cash_account` - ุญุณุงุจ ุงูููุฏูุฉ/ุงูุจูู
- `expense_account` - ุญุณุงุจ ุงููุตุฑูู (ุงุฎุชูุงุฑู)
- `check_number` - ุฑูู ุงูุดูู (ุฅู ูุฌุฏ)
- `bank_name` - ุงุณู ุงูุจูู
- `journal_entry` - ุงูููุฏ ุงููููู ุงููุฑุชุจุท (ูููุดุฃ ุชููุงุฆูุงู)

**ููุงุนุฏ ุงูุนูู:**
- ุตูุบุฉ ุงูุฑูู: PV{YYYYMM}{0001}
- ูุฌุจ ุฃู ูููู "ูุคูุฏ" ููุชุฑุญูู
- ุงูุชุฑุญูู ููุดุฆ ููุฏ ูููู ุชููุงุฆูุงู:
  - ูุฏูู: ุญุณุงุจ ุงููุตุฑูู
  - ุฏุงุฆู: ุญุณุงุจ ุงูููุฏูุฉ
- ูุง ูููู ุงูุชุนุฏูู/ุงูุญุฐู ุนูุฏ ุงูุชุฑุญูู

**ุณูุฑ ุงูุนูู:**
1. ุฅูุดุงุก (ูุณูุฏุฉ)
2. ุชุฃููุฏ
3. ุชุฑุญูู (ููุดุฆ ููุฏ ูููู ุชููุงุฆูุงู)
4. ุงุฎุชูุงุฑู: ุฅูุบุงุก ุงูุชุฑุญูู

#### ReceiptVoucher - ุณูุฏ ุงููุจุถ
**ุงูุบุฑุถ:** ุณูุฏุงุช ูุจุถ ุงูููุฏูุฉ/ุงูุจูู

**ุงูุญููู ุงูุฑุฆูุณูุฉ:**
- `number` - ุชูููููุฏ ุชููุงุฆูุงู (RV{YYYYMM}{0001})
- `date` - ุชุงุฑูุฎ ุงููุจุถ
- `status` - ุงูุญุงูุฉ
- `received_from` - ุงููุณุชูู ูู
- `payer_type` - ููุน ุงูุฏุงูุน (ุนูููุ ุขุฎุฑ)
- `amount` - ูุจูุบ ุงููุจุถ
- `receipt_method` - ุทุฑููุฉ ุงููุจุถ
- `cash_account` - ุญุณุงุจ ุงูููุฏูุฉ/ุงูุจูู
- `income_account` - ุญุณุงุจ ุงูุฅูุฑุงุฏ (ุงุฎุชูุงุฑู)
- `journal_entry` - ุงูููุฏ ุงููููู ุงููุฑุชุจุท

**ููุงุนุฏ ุงูุนูู:**
- ุตูุบุฉ ุงูุฑูู: RV{YYYYMM}{0001}
- ุงูุชุฑุญูู ููุดุฆ ููุฏ ูููู ุชููุงุฆูุงู:
  - ูุฏูู: ุญุณุงุจ ุงูููุฏูุฉ
  - ุฏุงุฆู: ุญุณุงุจ ุงูุฅูุฑุงุฏ

### 5. ููุงุฐุฌ ุงูุฃุฑุตุฏุฉ

#### AccountBalance - ุฑุตูุฏ ุงูุญุณุงุจ
**ุงูุบุฑุถ:** ุชุชุจุน ูุนุงู ูุฃุฑุตุฏุฉ ุงูุญุณุงุจุงุช ุญุณุจ ุงููุชุฑุฉ/ุงูุณูุฉ

**ุงูุญููู ุงูุฑุฆูุณูุฉ:**
- `account` - ุงูุญุณุงุจ
- `fiscal_year` - ุงูุณูุฉ ุงููุงููุฉ
- `period` - ุงููุชุฑุฉ ุงููุญุงุณุจูุฉ (nullable ููุฑุตูุฏ ุงูุณููู)
- `opening_balance_debit` - ุงูุฑุตูุฏ ุงูุงูุชุชุงุญู ุงููุฏูู
- `opening_balance_credit` - ุงูุฑุตูุฏ ุงูุงูุชุชุงุญู ุงูุฏุงุฆู
- `period_debit` - ุฅุฌูุงูู ุงููุฏูู ูู ุงููุชุฑุฉ
- `period_credit` - ุฅุฌูุงูู ุงูุฏุงุฆู ูู ุงููุชุฑุฉ
- `closing_balance_debit` - ุงูุฑุตูุฏ ุงูุฎุชุงูู ุงููุฏูู (ูุญุณูุจ)
- `closing_balance_credit` - ุงูุฑุตูุฏ ุงูุฎุชุงูู ุงูุฏุงุฆู (ูุญุณูุจ)

**ุงูููุทู:**
- ูููุดุฃ ุชููุงุฆูุงู ุนูุฏ ุชุฑุญูู ุงูููุฏ ุงููููู
- ุงูุฑุตูุฏ ุงูุฎุชุงูู = ุงูุฑุตูุฏ ุงูุงูุชุชุงุญู + ุญุฑูุงุช ุงููุชุฑุฉ
- ูุญุชุฑู ุงูุฑุตูุฏ ุงูุทุจูุนู ูููุน ุงูุญุณุงุจ

#### AccountBalanceHistory - ุณุฌู ุชุบููุฑุงุช ุงูุฑุตูุฏ
**ุงูุบุฑุถ:** ูุณุงุฑ ุชุฏููู ูุชุบููุฑุงุช ุงูุฑุตูุฏ

**ุงูุญููู:**
- ุชุงุฑูุฎ ุงูุชุบููุฑ
- ุณุจุจ ุงูุชุบููุฑ
- ุงูุฃุฑุตุฏุฉ ุงููุฏููุฉ ูุงูุฌุฏูุฏุฉ (ูุฏูู ูุฏุงุฆู)
- ุงููุจูุบ ุงููุชุฃุซุฑ
- ููุน ููุนุฑู ุงููุฑุฌุน
- ุงููุณุชุฎุฏู ุงูุฐู ุฃุฌุฑู ุงูุชุบููุฑ

---

## ุงูููุงุฐุฌ (Forms)

### 1. ููุงุฐุฌ ุงูุญุณุงุจุงุช
- **AccountForm** - ุฅูุดุงุก/ุชุนุฏูู ุงูุญุณุงุจุงุช ูุน ุงุฎุชูุงุฑ ุงูุญุณุงุจ ุงูุฃุจ ุงููุฑูู
- **AccountFilterForm** - ุชุตููุฉ ุงูุญุณุงุจุงุช ุญุณุจ ุงูููุนุ ุงููุณุชููุ ุงูุญุงูุฉ
- **AccountImportForm** - ุงุณุชูุฑุงุฏ ุฌูุงุนู ููุญุณุงุจุงุช (CSV/Excel)

### 2. ููุงุฐุฌ ุงููููุฏ ุงูููููุฉ
- **JournalEntryForm** - ูููุฐุฌ ุงูููุฏ ุงูุฃุณุงุณู
- **JournalEntryLineFormSet** - ูุฌููุนุฉ ุฃุณุทุฑ ุงูููุฏ (ุงูุญุฏ ุงูุฃุฏูู ุณุทุฑูู)
- **QuickJournalEntryForm** - ูููุฐุฌ ูุจุณุท ูููููุฏ ุงูุดุงุฆุนุฉ (ุณุทุฑูู)
- **JournalEntryTemplateForm** - ุฅูุดุงุก ุงูููุงูุจ ุงููุงุจูุฉ ูุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู
- **UseTemplateForm** - ุฅูุดุงุก ููุฏ ูู ูุงูุจ

### 3. ููุงุฐุฌ ุงูุณูุฏุงุช
- **PaymentVoucherForm** - ูููุฐุฌ ุณูุฏ ุงูุตุฑู ูุน ุฌููุน ุงูุชูุงุตูู
- **ReceiptVoucherForm** - ูููุฐุฌ ุณูุฏ ุงููุจุถ

### 4. ููุงุฐุฌ ุงููุชุฑุงุช ุงููุงููุฉ
- **FiscalYearForm** - ุฅูุดุงุก/ุชุนุฏูู ุงูุณููุงุช ุงููุงููุฉ
- **CreatePeriodsForm** - ุฅูุดุงุก ุชููุงุฆู ูููุชุฑุงุช (ุดูุฑู/ุฑุจุน ุณููู)
- **AccountingPeriodForm** - ุฅูุดุงุก/ุชุนุฏูู ุงููุชุฑุงุช
- **PeriodClosingForm** - ุฅููุงู ุงููุชุฑุฉ ูุน ุงูุณุจุจ
- **CostCenterForm** - ุฅูุดุงุก/ุชุนุฏูู ูุฑุงูุฒ ุงูุชูููุฉ

---

## ุงููุงุฌูุงุช (Views)

### 1. ููุญุฉ ุงููุนูููุงุช
- **AccountingDashboardView** - ููุญุฉ ุงููุนูููุงุช ุงูุฑุฆูุณูุฉ ูุน:
  - ุฅุญุตุงุฆูุงุช ููุฑูุฉ
  - ุงููููุฏ ุงูุฃุฎูุฑุฉ
  - ุฃุฒุฑุงุฑ ุงูุฅุฌุฑุงุกุงุช ุงูุณุฑูุนุฉ
  - ุงูุฑุณูู ุงูุจูุงููุฉ

### 2. ูุงุฌูุงุช ุงูุญุณุงุจุงุช
- **ุนุฑุถ ุงููุงุฆูุฉ** - ุนุฑุถ ุดุฌุฑู ูุฑูู ูุน ุชุตููุฉ ูุจุญุซ
- **ุฅูุดุงุก/ุชุนุฏูู** - ููุงุฐุฌ ุงูุญุณุงุจุงุช
- **ุงูุชูุงุตูู** - ูุนูููุงุช ุงูุญุณุงุจุ ููุฎุต ุงูุฑุตูุฏุ ุงููุนุงููุงุช ุงูุฃุฎูุฑุฉุ ุงูุญุณุงุจุงุช ุงููุฑุนูุฉ
- **ุงูุญุฐู** - ูุน ููุงุนุฏ ุงูุนูู (ูุง ูููู ุงูุญุฐู ุฅุฐุง ูุงู ูู ูููุฏ ุฃู ุฃุจูุงุก)

### 3. ูุงุฌูุงุช ุงููููุฏ ุงูููููุฉ
- **ุนุฑุถ ุงููุงุฆูุฉ** - ูุน ุชุตููุฉ (ุงูุญุงูุฉุ ุงูููุนุ ูุทุงู ุงูุชุงุฑูุฎุ ุงูุณูุฉ ุงููุงููุฉ)
- **ุฅูุดุงุก ุงูููุฏ** - ูุน ุฅุถุงูุฉ ุฃุณุทุฑ ุฏููุงููููุฉุ ุญุณุงุจ ุงูุฑุตูุฏ ุงูููุฑูุ ุงุฎุชูุงุฑ ุงููุงูุจ
- **ุงูุชูุงุตูู** - ุชูุงุตูู ุงูููุฏ ุงููุงููุฉ ูุน ุฃุฒุฑุงุฑ ุงูุฅุฌุฑุงุกุงุช (ุชุฑุญููุ ุฅูุบุงุก ุชุฑุญููุ ุชุนุฏููุ ุญุฐูุ ูุณุฎุ ุนูุณ)
- **ุงูููุฏ ุงูุณุฑูุน** - ูููููุฏ ุงูุจุณูุทุฉ ุฐุงุช ุงูุณุทุฑูู

### 4. ูุงุฌูุงุช ุงูููุงูุจ
- **ุนุฑุถ ุงูููุงูุจ** - ูุงุฆูุฉ ุฌููุน ุงูููุงูุจ ูุน ุฅุญุตุงุฆูุงุช ุงูุงุณุชุฎุฏุงู
- **ุฅูุดุงุก/ุชุนุฏูู ุงููุงูุจ** - ูุน ุฃุณุทุฑ ุงููุงูุจ
- **ุงุณุชุฎุฏุงู ุงููุงูุจ** - ุฅูุดุงุก ููุฏ ูู ูุงูุจ

### 5. ูุงุฌูุงุช ุงูุณูุฏุงุช

#### ุณูุฏุงุช ุงูุตุฑู
- ุนุฑุถ ุงููุงุฆูุฉ ูุน ุชุตููุฉ ูุจุญุซ
- ุฅูุดุงุก/ุชุนุฏูู ุงูุณูุฏ
- ุงูุชูุงุตูู ูุน ุงูููุฏ ุงููุฑุชุจุท
- ุชุฃููุฏ ูุชุฑุญูู
- ุทุจุงุนุฉ ุงูุดูู

#### ุณูุฏุงุช ุงููุจุถ
- ููุณ ูููู ุณูุฏุงุช ุงูุตุฑู

### 6. ูุงุฌูุงุช ุงููุชุฑุงุช ุงููุงููุฉ
- ุฅุฏุงุฑุฉ ุงูุณููุงุช ุงููุงููุฉ
- ุฅูุดุงุก ุชููุงุฆู ูููุชุฑุงุช
- ุฅุฏุงุฑุฉ ุงููุชุฑุงุช ุงููุญุงุณุจูุฉ
- ุฅููุงู/ุฅุนุงุฏุฉ ูุชุญ ุงููุชุฑุงุช
- ุฅุฏุงุฑุฉ ูุฑุงูุฒ ุงูุชูููุฉ

### 7. ูุงุฌูุงุช ุงูุชูุงุฑูุฑ
ุณูุชู ุชูุตูููุง ูู ูุณู ุงูุชูุงุฑูุฑ

---

## ุงูุชูุงุฑูุฑ ุงููุงููุฉ

### 1. ุฏูุชุฑ ุงูุฃุณุชุงุฐ (General Ledger)
**ุงูุบุฑุถ:** ุนุฑุถ ุฌููุน ุงููุนุงููุงุช ูุญุณุงุจ ูุนูู

**ุงููุนุงููุงุช:**
- ุงูุญุณุงุจ
- ูุทุงู ุงูุชุงุฑูุฎ
- ุงูุณูุฉ ุงููุงููุฉ/ุงููุชุฑุฉ (ุงุฎุชูุงุฑู)

**ุงููููุฒุงุช:**
- ุฌููุน ุงููุนุงููุงุช ููุญุณุงุจ
- ุงูุฃุฑุตุฏุฉ ุงูุงูุชุชุงุญูุฉ ูุงูุฎุชุงููุฉ
- ุงูุฑุตูุฏ ุงูุฌุงุฑู ุงูุชุฑุงููู
- ุงูุชุตุฏูุฑ: PDFุ Excelุ CSV

### 2. ููุฒุงู ุงููุฑุงุฌุนุฉ (Trial Balance)
**ุงูุบุฑุถ:** ุนุฑุถ ุฌููุน ุงูุญุณุงุจุงุช ูุน ุฃุฑุตุฏุชูุง ููุชุญูู ูู ุงูุชูุงุฒู

**ุงููุนุงููุงุช:**
- ุชุงุฑูุฎ ูุญุฏุฏ ุฃู ูุชุฑุฉ
- ุงูุณูุฉ ุงููุงููุฉ (ุงุฎุชูุงุฑู)
- ูุณุชูู ุงูุญุณุงุจ (ูุชุฌููุน ุงูุญุณุงุจุงุช ุงููุฑุนูุฉ)

**ุงููููุฒุงุช:**
- ุฌููุน ุงูุญุณุงุจุงุช ูุน ุฅุฌูุงููุงุช ุงููุฏูู/ุงูุฏุงุฆู
- ุนุฑุถ ูุฑูู
- ุงูุชุญูู ูู ุงูุชูุงุฒู (ุฅุฌูุงูู ุงููุฏูู = ุฅุฌูุงูู ุงูุฏุงุฆู)
- ุงูุชุตุฏูุฑ: PDFุ Excelุ CSV

### 3. ูุดู ุงูุญุณุงุจ (Account Statement)
**ุงูุบุฑุถ:** ุณุฌู ุงููุนุงููุงุช ุงูุชูุตููู ูุญุณุงุจ

**ุงููุนุงููุงุช:**
- ุงูุญุณุงุจ
- ูุทุงู ุงูุชุงุฑูุฎ

**ุงููููุฒุงุช:**
- ุณุฌู ุงููุนุงููุงุช ุงูุชูุตููู
- ูุนูููุงุช ุงูุดุฑูู
- ุฑุจุท ุงููุฑุงุฌุน
- ุงูุชุตุฏูุฑ: PDFุ Excelุ CSV

### 4. ูุงุฆูุฉ ุงูุฏุฎู (Income Statement)
**ุงูุบุฑุถ:** ุนุฑุถ ุงูุฅูุฑุงุฏุงุช ูุงููุตุฑููุงุช ูุญุณุงุจ ุตุงูู ุงูุฏุฎู

**ุงููุนุงููุงุช:**
- ูุทุงู ุงูุชุงุฑูุฎ
- ุงูุณูุฉ ุงููุงููุฉ (ุงุฎุชูุงุฑู)

**ุงููููุฒุงุช:**
- ุฅุฌูุงูู ุญุณุงุจุงุช ุงูุฅูุฑุงุฏุงุช
- ุฅุฌูุงูู ุญุณุงุจุงุช ุงููุตุฑููุงุช
- ุญุณุงุจ ุตุงูู ุงูุฏุฎู
- ููุงุฑูุฉ ุงููุชุฑุงุช
- ุงูุชุตุฏูุฑ: PDFุ Excelุ CSV

### 5. ุงูููุฒุงููุฉ ุงูุนููููุฉ (Balance Sheet)
**ุงูุบุฑุถ:** ุนุฑุถ ุงููุถุน ุงููุงูู (ุงูุฃุตูู = ุงูุฎุตูู + ุญููู ุงูููููุฉ)

**ุงููุนุงููุงุช:**
- ุชุงุฑูุฎ ูุญุฏุฏ
- ุงูุณูุฉ ุงููุงููุฉ (ุงุฎุชูุงุฑู)

**ุงููููุฒุงุช:**
- ุงูุฃุตูู (ูุชุฏุงููุฉุ ุซุงุจุชุฉุ ุฃุฎุฑู)
- ุงูุฎุตูู (ูุชุฏุงููุฉุ ุทูููุฉ ุงูุฃุฌู)
- ุญููู ุงูููููุฉ
- ุงูุชุญูู ูู ุงูุชูุงุฒู (ุงูุฃุตูู = ุงูุฎุตูู + ุญููู ุงูููููุฉ)
- ุงูุชุตุฏูุฑ: PDFุ Excelุ CSV

### 6. ููุงุฑูุฉ ุงูุญุณุงุจุงุช (Account Comparison)
**ุงูุบุฑุถ:** ููุงุฑูุฉ ุฌุงูุจูุฉ ูุญุณุงุจุงุช ูุชุนุฏุฏุฉ ุนุจุฑ ูุชุฑุงุช

**ุงููุนุงููุงุช:**
- ุญุณุงุจุงุช ูุชุนุฏุฏุฉ
- ูุชุฑุงุช ูุชุนุฏุฏุฉ

**ุงููููุฒุงุช:**
- ููุงุฑูุฉ ุฌูุจุงู ุฅูู ุฌูุจ
- ุชุญููู ุงูุชุจุงูู
- ุงููุณุจุฉ ุงููุฆููุฉ ููุชุบููุฑ
- ุงูุฑุณูู ุงูุจูุงููุฉ
- ุงูุชุตุฏูุฑ: PDFุ Excelุ CSV

---

## ูุณุงุฑุงุช URLs

### ุงููุณุงุฑ ุงูุฃุณุงุณู: `/accounting/`

#### ููุญุฉ ุงููุนูููุงุช
- `/` - ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ

#### ุฃููุงุน ุงูุญุณุงุจุงุช
- `/account-types/` - ุงููุงุฆูุฉ
- `/account-types/create/` - ุฅูุดุงุก
- `/account-types/<id>/update/` - ุชุนุฏูู
- `/account-types/<id>/delete/` - ุญุฐู

#### ุงูุญุณุงุจุงุช
- `/accounts/` - ุงููุงุฆูุฉ
- `/accounts/create/` - ุฅูุดุงุก
- `/accounts/<id>/` - ุงูุชูุงุตูู
- `/accounts/<id>/update/` - ุชุนุฏูู
- `/accounts/<id>/delete/` - ุญุฐู

#### ุงููููุฏ ุงูููููุฉ
- `/journal-entries/` - ุงููุงุฆูุฉ
- `/journal-entries/create/` - ุฅูุดุงุก
- `/journal-entries/<id>/` - ุงูุชูุงุตูู
- `/journal-entries/<id>/update/` - ุชุนุฏูู
- `/journal-entries/<id>/delete/` - ุญุฐู
- `/journal-entries/<id>/copy/` - ูุณุฎ
- `/journal-entries/quick/` - ููุฏ ุณุฑูุน

#### ุงูููุงูุจ
- `/templates/` - ุงููุงุฆูุฉ
- `/templates/create/` - ุฅูุดุงุก
- `/templates/<id>/` - ุงูุชูุงุตูู
- `/templates/<id>/update/` - ุชุนุฏูู
- `/templates/<id>/delete/` - ุญุฐู
- `/templates/use/` - ุงุณุชุฎุฏุงู ูุงูุจ

#### ุงูุณูุฏุงุช
- `/payment-vouchers/` - ูุงุฆูุฉ ุณูุฏุงุช ุงูุตุฑู
- `/payment-vouchers/create/` - ุฅูุดุงุก
- `/payment-vouchers/<id>/` - ุงูุชูุงุตูู
- `/payment-vouchers/<id>/print-check/` - ุทุจุงุนุฉ ุดูู
- `/receipt-vouchers/` - ูุงุฆูุฉ ุณูุฏุงุช ุงููุจุถ
- (ููุณ ุงููููู ูุณูุฏุงุช ุงููุจุถ)

#### ุฅุฏุงุฑุฉ ุงููุชุฑุงุช ุงููุงููุฉ
- `/fiscal-years/` - ุงููุงุฆูุฉ
- `/fiscal-years/create/` - ุฅูุดุงุก
- `/fiscal-years/<id>/` - ุงูุชูุงุตูู
- `/periods/` - ูุงุฆูุฉ ุงููุชุฑุงุช
- `/periods/create/` - ุฅูุดุงุก ูุชุฑุฉ
- `/cost-centers/` - ูุงุฆูุฉ ูุฑุงูุฒ ุงูุชูููุฉ

#### ุงูุชูุงุฑูุฑ
- `/reports/general-ledger/` - ุฏูุชุฑ ุงูุฃุณุชุงุฐ
- `/reports/trial-balance/` - ููุฒุงู ุงููุฑุงุฌุนุฉ
- `/reports/account-statement/` - ูุดู ุงูุญุณุงุจ
- `/reports/income-statement/` - ูุงุฆูุฉ ุงูุฏุฎู
- `/reports/balance-sheet/` - ุงูููุฒุงููุฉ ุงูุนููููุฉ
- `/reports/account-comparison/` - ููุงุฑูุฉ ุงูุญุณุงุจุงุช

---

## ุณูุฑ ุงูุนูู (Workflows)

### 1. ุณูุฑ ุนูู ุฅุนุฏุงุฏ ุงูุญุณุงุจุงุช

1. ุฅูุดุงุก ุฃููุงุน ุงูุญุณุงุจุงุช (ุฅุฐุง ูู ุชูู ููุฌูุฏุฉ)
2. ุฅูุดุงุก ุงูุณูุฉ ุงููุงููุฉ
3. ุฅูุดุงุก ุงููุชุฑุงุช ุงููุญุงุณุจูุฉ (ุดูุฑูุฉ/ุฑุจุน ุณูููุฉ)
4. ุฅูุดุงุก ุฏููู ุงูุญุณุงุจุงุช (ูุฑูู)
5. ุชุนููู ุงูุฃุฑุตุฏุฉ ุงูุงูุชุชุงุญูุฉ
6. ุฅูุดุงุก ูุฑุงูุฒ ุงูุชูููุฉ (ุงุฎุชูุงุฑู)
7. ุฅูุดุงุก ููุงูุจ ุงููููุฏ (ุงุฎุชูุงุฑู)

### 2. ุณูุฑ ุนูู ุงูููุฏ ุงููููู

**ุงูููุฏ ุงูููุงุณู:**
1. ุฅูุดุงุก ููุฏ ูุณูุฏุฉ
2. ุฅุถุงูุฉ ุฃุณุทุฑ ุงูููุฏ (ุงูุญุฏ ุงูุฃุฏูู 2)
3. ุงูุชุญูู ูู ุงูุชูุงุฒู (ูุฏูู = ุฏุงุฆู)
4. ุชุฑุญูู ุงูููุฏ
   - ูุญุฏุซ AccountBalance
   - ููุดุฆ AccountBalanceHistory
   - ุชุชุบูุฑ ุงูุญุงูุฉ ุฅูู "ููุฑุญููู"
5. ุงุฎุชูุงุฑู: ุฅูุบุงุก ุงูุชุฑุญูู ุฃู ุงูุนูุณ

**ุงูููุฏ ูู ุงููุงูุจ:**
1. ุงุฎุชูุงุฑ ุงููุงูุจ
2. ุชุญุฏูุฏ ุงูุชุงุฑูุฎ ูุงููุตู
3. ุงููุธุงู ูููุฃ ุงูุฃุณุทุฑ ุชููุงุฆูุงู ูู ุงููุงูุจ
4. ุชุนุฏูู ุงููุจุงูุบ ุนูุฏ ุงูุญุงุฌุฉ
5. ุชุฑุญูู ุงูููุฏ

**ุงูููุฏ ุงูุณุฑูุน (ุณุทุฑูู):**
1. ุชุญุฏูุฏ ุงูุญุณุงุจุงุช ูุงููุจุงูุบ
2. ุงููุธุงู ููุดุฆ ููุฏ ูุชูุงุฒู
3. ุชุฑุญูู ูุจุงุดุฑ

### 3. ุณูุฑ ุนูู ุณูุฏ ุงูุตุฑู

1. ุฅูุดุงุก ุณูุฏ ุตุฑู ูุณูุฏุฉ
   - ุชุญุฏูุฏ ุงููุณุชููุฏ
   - ุฅุฏุฎุงู ุงููุจูุบ
   - ุงุฎุชูุงุฑ ุญุณุงุจ ุงูููุฏูุฉ/ุงูุจูู
   - ุงุฎุชูุงุฑ ุญุณุงุจ ุงููุตุฑูู
   - ุงุฎุชูุงุฑ ุทุฑููุฉ ุงูุฏูุน
2. ุญูุธ ููุณูุฏุฉ
3. ุชุฃููุฏ ุงูุณูุฏ (ุงูุญุงูุฉ: ูุคูุฏ)
4. ุชุฑุญูู ุงูุณูุฏ
   - ุงููุธุงู ููุดุฆ ููุฏ ูููู:
     - ูุฏูู: ุญุณุงุจ ุงููุตุฑูู
     - ุฏุงุฆู: ุญุณุงุจ ุงูููุฏูุฉ
   - ุชุชุบูุฑ ุงูุญุงูุฉ ุฅูู "ููุฑุญููู"
5. ุงุฎุชูุงุฑู: ุทุจุงุนุฉ ุงูุดูู
6. ุงุฎุชูุงุฑู: ุฅูุบุงุก ุงูุชุฑุญูู

### 4. ุณูุฑ ุนูู ุณูุฏ ุงููุจุถ

1. ุฅูุดุงุก ุณูุฏ ูุจุถ ูุณูุฏุฉ
   - ุชุญุฏูุฏ ุงูุฏุงูุน
   - ุฅุฏุฎุงู ุงููุจูุบ
   - ุงุฎุชูุงุฑ ุญุณุงุจ ุงูููุฏูุฉ/ุงูุจูู
   - ุงุฎุชูุงุฑ ุญุณุงุจ ุงูุฅูุฑุงุฏ
   - ุงุฎุชูุงุฑ ุทุฑููุฉ ุงููุจุถ
2. ุญูุธ ููุณูุฏุฉ
3. ุชุฃููุฏ ุงูุณูุฏ
4. ุชุฑุญูู ุงูุณูุฏ
   - ุงููุธุงู ููุดุฆ ููุฏ ูููู:
     - ูุฏูู: ุญุณุงุจ ุงูููุฏูุฉ
     - ุฏุงุฆู: ุญุณุงุจ ุงูุฅูุฑุงุฏ
   - ุชุชุบูุฑ ุงูุญุงูุฉ ุฅูู "ููุฑุญููู"
5. ุงุฎุชูุงุฑู: ุทุจุงุนุฉ ุงูุฅูุตุงู
6. ุงุฎุชูุงุฑู: ุฅูุบุงุก ุงูุชุฑุญูู

### 5. ุณูุฑ ุนูู ุฅููุงู ุงููุชุฑุฉ

1. ุงูุชุญูู ูู ุชุฑุญูู ุฌููุน ุงููููุฏ ูููุชุฑุฉ
2. ุชุดุบูู ููุฒุงู ุงููุฑุงุฌุนุฉ ููุชุญูู ูู ุงูุฃุฑุตุฏุฉ
3. ุฅูุดุงุก ูููุฏ ุงูุชุณููุฉ ุนูุฏ ุงูุญุงุฌุฉ
4. ุฅูุดุงุก ุงูููุงุฆู ุงููุงููุฉ
5. ุฅููุงู ุงููุชุฑุฉ ุงููุญุงุณุจูุฉ
   - ููุน ุงููููุฏ ุงูุฌุฏูุฏุฉ ูู ุงููุชุฑุฉ
   - ููู ุจูุงูุงุช ุงููุชุฑุฉ
6. ุงุฎุชูุงุฑู: ุฅูุดุงุก ูููุฏ ุงูุฅููุงู
7. ุงุฎุชูุงุฑู: ูุชุญ ุงููุชุฑุฉ ุงูุชุงููุฉ

### 6. ุณูุฑ ุนูู ุฅููุงู ููุงูุฉ ุงูุนุงู

1. ุฅููุงู ุฌููุน ุงููุชุฑุงุช ูู ุงูุณูุฉ ุงููุงููุฉ
2. ุฅูุดุงุก ุงูููุงุฆู ุงููุงููุฉ ุงูุณูููุฉ
3. ุฅูุดุงุก ูููุฏ ุงูุชุณููุฉ ุงูุณูููุฉ
4. ุฅูุดุงุก ูููุฏ ุงูุฅููุงู:
   - ุฅููุงู ุญุณุงุจุงุช ุงูุฅูุฑุงุฏุงุช ุฅูู ููุฎุต ุงูุฏุฎู
   - ุฅููุงู ุญุณุงุจุงุช ุงููุตุฑููุงุช ุฅูู ููุฎุต ุงูุฏุฎู
   - ุฅููุงู ููุฎุต ุงูุฏุฎู ุฅูู ุงูุฃุฑุจุงุญ ุงููุญุชุฌุฒุฉ
5. ุฅููุงู ุงูุณูุฉ ุงููุงููุฉ
6. ุฅูุดุงุก ุณูุฉ ูุงููุฉ ุฌุฏูุฏุฉ ูุน ุงูุฃุฑุตุฏุฉ ุงูุงูุชุชุงุญูุฉ

---

## ููุงุท ุงูุชูุงูู

### 1. ุงูุชูุงูู ูุน ุงููุญุฏุฉ ุงูุฃุณุงุณูุฉ (Core)

- **ุงูุดุฑูุฉ ูุงููุฑุน:** ุฌููุน ุงูููุงุฐุฌ ุชูุชุฏ ูู BaseModel/DocumentBaseModel
- **ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู:** ุชุชุจุน ุงููุณุชุฎุฏู ุงูุฐู ุฃูุดุฃ/ุฑุญููู
- **ุชุณูุณู ุงูุฃุฑูุงู:** ุฃุฑูุงู ุงููููุฏ ุงูููููุฉ (JV/YYYY/NNNN)
- **ุฅุฏุงุฑุฉ ุงูุนููุงุช:** ูุนุงููุงุช ูุชุนุฏุฏุฉ ุงูุนููุงุช
- **ุงูุดุฑูุงุก ุงูุชุฌุงุฑููู:** ุฑุจุท ุงูุนููุงุก/ุงูููุฑุฏูู ูู ุงูุณูุฏุงุช

### 2. ุงูุชูุงูู ูุน ูุญุฏุฉ ุงูุฃุตูู (Assets)

- **ูุญุงุณุจุฉ ุงูุฃุตูู:** ูููุฏ ููููุฉ ุชููุงุฆูุฉ ููุนุงููุงุช ุงูุฃุตูู
- **ุงูุฅููุงู:** ุชุฑุญูู ุงูุฅููุงู
- **ุงุณุชุจุนุงุฏ ุงูุฃุตูู:** ูููุฏ ุงูุงุณุชุจุนุงุฏ
- **ููู ุงูุฃุตูู:** ูููุฏ ุงูููู

### 3. ุงูุชูุงูู ูุน ูุญุฏุฉ ุงููุจูุนุงุช (ูุฎุทุท)

- **ููุงุชูุฑ ุงููุจูุนุงุช:** ุฅูุดุงุก ููุฏ ูููู ุชููุงุฆู
- **ุงูุงุนุชุฑุงู ุจุงูุฅูุฑุงุฏุงุช:** ุชุญุฏูุซ ุญุณุงุจ ุงูุนููู
- **ุฏูุนุงุช ุงูุนููุงุก:** ุชูุงูู ุณูุฏ ุงููุจุถ

### 4. ุงูุชูุงูู ูุน ูุญุฏุฉ ุงููุดุชุฑูุงุช (ูุฎุทุท)

- **ููุงุชูุฑ ุงูุดุฑุงุก:** ุฅูุดุงุก ููุฏ ูููู ุชููุงุฆู
- **ุงูุงุนุชุฑุงู ุจุงููุตุฑููุงุช/ุงููุฎุฒูู:** ุชุญุฏูุซ ุญุณุงุจ ุงูููุฑุฏ
- **ุฏูุนุงุช ุงูููุฑุฏูู:** ุชูุงูู ุณูุฏ ุงูุตุฑู

### 5. ุงูุชูุงูู ูุน ูุญุฏุฉ ุงููุฎุฒูู (ูุฎุทุท)

- **ูุนุงููุงุช ุงููุฎุฒูู:** ุชุนุฏููุงุช ูููุฉ ุงููุฎุฒูู
- **ุชูููุฉ ุงูุจุถุงุนุฉ ุงููุจุงุนุฉ:** ุญุณุงุจุงุช ุงูุชูููู
- **ุญุฑูุงุช ุงููุฎุฒูู:** ูุญุงุณุจุฉ ุงููุฎุฒูู ุงูุชููุงุฆูุฉ

---

## ุงูุฃุฐููุงุช (Permissions)

### 1. ุฃุฐููุงุช Django (ููู ูููุฐุฌ)
- `view_<model>` - ุฅุฐู ุงูุนุฑุถ
- `add_<model>` - ุฅุฐู ุงูุฅูุดุงุก
- `change_<model>` - ุฅุฐู ุงูุชุนุฏูู
- `delete_<model>` - ุฅุฐู ุงูุญุฐู

### 2. ุฃุฐููุงุช ูุฎุตุตุฉ
- ุชุฑุญูู ุงูููุฏ ุงููููู ูุชุทูุจ ุฅุฐู ุงูุชุนุฏูู
- ุนุฑุถ ุงูุชูุงุฑูุฑ ูุชุทูุจ ุฅุฐู ุงูุนุฑุถ
- ุงูุชุตุฏูุฑ ูุชุทูุจ ุฅุฐู ุงูุนุฑุถ

### 3. ุงูุฃูุงู ุนูู ูุณุชูู ุงูุดุฑูุฉ
- ุฌููุน ุงูุจูุงูุงุช ุชูุตูู ุชููุงุฆูุงู ุญุณุจ ุงูุดุฑูุฉ ุงูุญุงููุฉ
- CompanyMixin ูุถูู ุนุฒู ุงูุดุฑูุฉ
- Middleware ูุนูู request.current_company

---

## ุชุญุณููุงุช ุงูุฃุฏุงุก

### 1. ุชุญุณููุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช

**ุงูููุงุฑุณ:**
- entry_date + status ุนูู JournalEntry
- company + status ุนูู JournalEntry
- account + fiscal_year ุนูู AccountBalance
- change_date ุนูู AccountBalanceHistory

**Select Related:**
- ุงููุงุฌูุงุช ุชุณุชุฎุฏู select_related ููููุงุชูุญ ุงูุฎุงุฑุฌูุฉ
- ูููู ูู ูุดุงูู ุงุณุชุนูุงู N+1

**Prefetch Related:**
- ุฃุณุทุฑ ุงููููุฏ ุชูุฌูุจ ูุณุจูุงู ูู ูุงุฌูุงุช ุงูููุงุฆู
- ุฃุณุทุฑ ุงูููุงูุจ ุชูุฌูุจ ูุณุจูุงู

### 2. ุงูุชุฎุฒูู ุงููุคูุช

- ุญุณุงุจุงุช ุงูุฑุตูุฏ ูุฎุฒูุฉ ูู AccountBalance
- ุชุญุฏูุซ ุฏูุฑู ุจุฏูุงู ูู ุงูุญุณุงุจ ุงูููุฑู
- ุชุฎุฒูู ุนุฑุถ ุงูููุงูุจ

### 3. ุชุญุณูู ุงูุงุณุชุนูุงูุงุช

- ุฏูุงู ุงูุชุฌููุน ููุนุฏ ูุงููุฌุงููุน
- ุงูุนูููุงุช ุงูุฌูุงุนูุฉ ุญูุซูุง ุฃููู
- ุชุฑููู ุงูุตูุญุงุช ููุฌููุนุงุช ุงูุจูุงูุงุช ุงููุจูุฑุฉ

---

## ูุงุฌูุงุช ุจุฑูุฌุฉ ุงูุชุทุจููุงุช (APIs)

### 1. ูุงุฌูุงุช ููุญุฉ ุงููุนูููุงุช
- `/api/dashboard-stats/` - ุงูุฅุญุตุงุฆูุงุช
- `/api/recent-entries/` - ุงููููุฏ ุงูุฃุฎูุฑุฉ
- `/api/quick-tasks/` - ุงูููุงู ุงูุณุฑูุนุฉ

### 2. ูุงุฌูุงุช DataTables
- ุฌููุน ูุงุฌูุงุช ุงูููุงุฆู ููุง ููุงุท ููุงูุฉ `/ajax/<model>/` ููุงุจูุฉ
- ุฏุนู ุงูุชุฑูููุ ุงููุฑุฒุ ุงูุชุตููุฉุ ุงูุจุญุซ

### 3. ูุงุฌูุงุช ุงูุฅููุงู ุงูุชููุงุฆู
- `/ajax/accounts/search/` - ุจุญุซ ุงูุญุณุงุจุงุช
- `/ajax/accounts/autocomplete/` - ุชูุงูู Select2
- `/ajax/cost-centers/search/` - ุจุญุซ ูุฑุงูุฒ ุงูุชูููุฉ

### 4. ูุงุฌูุงุช ุงูุฅุฌุฑุงุกุงุช
- `/ajax/journal-entries/<id>/post/` - ุชุฑุญูู ุงูููุฏ
- `/ajax/journal-entries/<id>/unpost/` - ุฅูุบุงุก ุชุฑุญูู ุงูููุฏ
- `/ajax/payment-vouchers/<id>/confirm/` - ุชุฃููุฏ ุงูุณูุฏ
- `/ajax/payment-vouchers/<id>/post/` - ุชุฑุญูู ุงูุณูุฏ
- `/ajax/periods/<id>/close/` - ุฅููุงู ุงููุชุฑุฉ
- `/ajax/fiscal-years/<id>/create-periods/` - ุฅูุดุงุก ุชููุงุฆู ูููุชุฑุงุช

---

## ุงูุชุญุณููุงุช ุงููุณุชูุจููุฉ

### 1. ุงูููุฒุงุช ุงููุฎุทุทุฉ

#### 1.1 ุชุณููุฉ ุงูุจูู (Bank Reconciliation)
- ุงุณุชูุฑุงุฏ ูุดูู ุงูุจูู
- ูุทุงุจูุฉ ุงููุนุงููุงุช
- ุชูุงุฑูุฑ ุงูุชุณููุฉ

#### 1.2 ุฅุฏุงุฑุฉ ุงูููุฒุงููุฉ (Budget Management)
- ุฅูุดุงุก ุงูููุฒุงููุฉ ุญุณุจ ุงูุญุณุงุจ/ูุฑูุฒ ุงูุชูููุฉ
- ุชูุงุฑูุฑ ุงูููุฒุงููุฉ ููุงุจู ุงููุนูู
- ุชุญููู ุงูุชุจุงูู

#### 1.3 ุงููููุฏ ุงููุชูุฑุฑุฉ (Recurring Entries)
- ูููุฏ ุชููุงุฆูุฉ ูุฌุฏููุฉ
- ุฃุชูุชุฉ ูุงุฆูุฉ ุนูู ุงูููุงูุจ

#### 1.4 ููุงููุงุช ูุชุนุฏุฏุฉ ุงููุณุชููุงุช (Multi-Level Approval)
- ุณูุฑ ุนูู ุงูููุงููุฉ ุนูู ุงููููุฏ
- ุญุฏูุฏ ุงูุณูุทุฉ
- ุณุฌู ุงูููุงููุงุช

#### 1.5 ุชูุงุฑูุฑ ูุญุณููุฉ (Enhanced Reporting)
- ูุงุฆูุฉ ุงูุชุฏูู ุงูููุฏู
- ููุงุฆู ูุงููุฉ ููุญุฏุฉ
- ุชูุงุฑูุฑ ูุงุจูุฉ ููุชุฎุตูุต

#### 1.6 ุฅุฏุงุฑุฉ ุงูุถุฑุงุฆุจ (Tax Management)
- ุชูููู ุญุณุงุจุงุช ุงูุถุฑุงุฆุจ
- ุญุณุงุจ ุงูุถุฑุงุฆุจ ุนูู ุงููุนุงููุงุช
- ุชูุงุฑูุฑ ูุฅูุฑุงุฑุงุช ุถุฑูุจูุฉ

### 2. ุงูุชุญุณููุงุช ุงูุชูููุฉ

#### 2.1 ุชุทููุฑ API
- ูุงุฌูุฉ RESTful ููุชูุงูู ุงูุฎุงุฑุฌู
- ูุตุงุฏูุฉ API
- Webhooks ููุฃุญุฏุงุซ

#### 2.2 ุงูุชุญุฏูุซุงุช ุงูููุฑูุฉ
- ุชูุงูู WebSocket
- ุชุญุฏูุซุงุช ุงูุฑุตูุฏ ุงููุจุงุดุฑุฉ
- ุฅุดุนุงุฑุงุช ุงูุชุญุฑูุฑ ุงูุชุนุงููู

#### 2.3 ุงูุชุญูููุงุช ุงููุชูุฏูุฉ
- ุงูุชุญูููุงุช ุงูุชูุจุคูุฉ
- ุชุญููู ุงูุงุชุฌุงูุงุช
- ููุญุฉ ูุนูููุงุช KPIs ุงููุงููุฉ

---

## ุงูุฎูุงุตุฉ

ุงููุญุฏุฉ ุงููุญุงุณุจูุฉ ูู ูุธุงู ุฅุฏุงุฑุฉ ูุงููุฉ ุดุงูู ูุฌุงูุฒ ููุฅูุชุงุฌ ูุน ูุญุงุณุจุฉ ูููุฉ ุจุงูููุฏ ุงููุฒุฏูุฌุ ูุฏุนู ูุชุนุฏุฏ ุงูุดุฑูุงุชุ ูุฅุฏุงุฑุฉ ุงููุชุฑุงุช ุงููุงููุฉุ ููุฏุฑุงุช ุชูุงุฑูุฑ ูุงุณุนุฉ. ูุชุจุน ุงููุธุงู ุฃูุถู ููุงุฑุณุงุช Djangoุ ููุทุจู ููุทู ุงูุนูู ุงูุตุญูุญุ ููุญุงูุธ ุนูู ุณูุงูุฉ ุงูุจูุงูุงุชุ ููููุฑ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ููุชุงุฒุฉ ูุน ููููุงุช ูุงุฌูุฉ ูุณุชุฎุฏู ุญุฏูุซุฉ.

ุงููุญุฏุฉ ูุชูุงููุฉ ุจุดูู ุฌูุฏ ูุน ูุธุงุฆู ุงููุธุงู ุงูุฃุณุงุณู ููู ERP ูุชููุฑ ุฃุณุงุณุงู ูููุงู ููุชุญุณููุงุช ุงููุณุชูุจููุฉ ูุงูุชูุงูู ูุน ุงููุญุฏุงุช ุงูุฃุฎุฑู ูุซู ุงููุจูุนุงุช ูุงููุดุชุฑูุงุช ูุงููุฎุฒูู.

</div>

---

<div dir="ltr" lang="en">

## Accounting Module Overview

### Introduction
The Accounting Module is a comprehensive double-entry accounting system designed to meet the needs of multi-company and multi-branch organizations. The system provides complete financial management including chart of accounts, journal entries, payment and receipt vouchers, fiscal periods, cost centers, and financial reporting.

### Main Path
- **Module Path:** `/accounting/`
- **Primary Language:** Arabic with RTL support
- **Integration Level:** High - integrated with Core and Assets modules

---

## Core Features

### 1. Double-Entry Bookkeeping
- โ Strict enforcement of double-entry principle (Debit = Credit)
- โ Automatic balance verification
- โ Complete audit trail for all transactions

### 2. Hierarchical Chart of Accounts
- ๐ Hierarchical structure up to 4 levels
- ๐ Five main account types:
  - **Assets**
  - **Liabilities**
  - **Equity**
  - **Revenue**
  - **Expenses**
- ๐ Parent/child relationships
- ๐ Cash and bank account identification

### 3. Journal Entries
- ๐ Manual and automatic entries
- ๐ Template-based entry creation
- ๐ Multi-line entries
- ๐ Cost center allocation
- ๐ Multi-currency support with exchange rates
- ๐ Entry statuses:
  - **Draft** - Editable
  - **Posted** - Posted with updated balances
  - **Cancelled** - Cancelled

### 4. Cash and Bank Management

#### Payment Vouchers
- ๐ฐ Create payment vouchers for all disbursements
- ๐ฐ Multiple payment methods:
  - Cash
  - Check
  - Bank Transfer
  - Credit Card
- ๐ฐ Automatic journal entry linking
- ๐ฐ Check printing

#### Receipt Vouchers
- ๐ต Create receipt vouchers for all collections
- ๐ต Multiple receipt methods
- ๐ต Automatic journal entry linking
- ๐ต Receipt printing

### 5. Fiscal Period Management

#### Fiscal Years
- ๐ Support for multiple fiscal years
- ๐ Flexible start and end date definition
- ๐ Year closure management
- ๐ Opening balance posting

#### Accounting Periods
- ๐ Monthly or quarterly periods
- ๐ Automatic period creation
- ๐ Period opening and closing
- ๐ Year-end adjustment periods
- ๐ Prevention of entries in closed periods

### 6. Cost Centers
- ๐ฏ Hierarchical cost center structure
- ๐ฏ Cost center types:
  - Branch
  - Sales
  - Services
  - Administration
  - Production
  - Marketing
  - Maintenance
- ๐ฏ Line-level allocation
- ๐ฏ Manager assignment per cost center

---

## Detailed Model Structure

### 1. Account Models

#### AccountType
**Purpose:** Define the five main account categories

**Key Fields:**
- `code` - Unique identifier
- `name` - Type name
- `type_category` - Classification (assets, liabilities, equity, revenue, expenses)
- `normal_balance` - Natural balance (debit or credit)

#### Account
**Purpose:** Chart of accounts - hierarchical structure up to 4 levels

**Primary Fields:**
- `code` - Account code (unique per company)
- `name` - Arabic name
- `name_en` - English name (optional)
- `account_type` - Account type
- `parent` - Parent account (for sub-accounts)
- `currency` - Default currency
- `nature` - Account nature (debit, credit, or both)
- `level` - Hierarchical level (1-4)
- `opening_balance` - Opening balance
- `opening_balance_date` - Opening balance date
- `is_suspended` - Suspended account
- `is_cash_account` - Cash account
- `is_bank_account` - Bank account
- `accept_entries` - Accepts entries (false for parent accounts with children)
- `can_have_children` - Can have sub-accounts
- `is_system_account` - Protected system account

**Business Rules:**
- Maximum 4 hierarchical levels
- Parent accounts cannot accept entries if they have children
- Code must be unique per company
- Level is auto-calculated based on parent

#### CostCenter
**Purpose:** Cost center/profit center management for expense tracking

**Key Fields:**
- `code` - Unique code per company
- `name` - Cost center name
- `parent` - Parent cost center (for hierarchy)
- `cost_center_type` - Type (branch, sales, services, administration, production, marketing, maintenance)
- `manager` - Responsible manager (optional)
- `level` - Hierarchical level (auto-calculated)

### 2. Fiscal Models

#### FiscalYear
**Purpose:** Define accounting fiscal years for a company

**Key Fields:**
- `code` - Unique code per company
- `name` - Year name (e.g., "Fiscal Year 2024")
- `start_date` - Year start date
- `end_date` - Year end date
- `is_closed` - Closed flag

**Business Rules:**
- A company can have multiple fiscal years
- Dates should not overlap
- Can span non-calendar years

#### AccountingPeriod
**Purpose:** Monthly/quarterly periods within a fiscal year

**Key Fields:**
- `fiscal_year` - Fiscal year
- `name` - Period name (e.g., "January 2024")
- `start_date` - Period start
- `end_date` - Period end
- `is_closed` - Closed flag
- `is_adjustment` - Adjustment period (for year-end adjustments)

**Business Rules:**
- Must fall within fiscal year dates
- No entries allowed in closed periods
- Typically 12 periods per year + optional adjustment period

### 3. Journal Models

#### JournalEntry
**Purpose:** Main journal entry document with double-entry accounting

**Key Fields:**
- `number` - Auto-generated unique number
- `entry_date` - Transaction date
- `entry_type` - Type (manual, auto, opening, closing, adjustment)
- `status` - Status (draft, posted, cancelled)
- `fiscal_year` - Fiscal year (auto-assigned)
- `period` - Accounting period (auto-assigned)
- `description` - Entry description
- `reference` - External reference
- `total_debit` - Total debit (auto-calculated)
- `total_credit` - Total credit (auto-calculated)
- `is_balanced` - Balanced flag (auto-calculated)
- `posted_by` - User who posted
- `posted_date` - Posting timestamp
- `template` - Template used (if created from template)

**Business Rules:**
- Number auto-generated on save using NumberingSequence
- Fiscal year/period auto-assigned based on entry_date
- Must be balanced (total_debit = total_credit) to post
- Cannot edit/delete when posted
- Updates AccountBalance on post/unpost

**Key Functions:**
- `post(user)` - Post entry and update balances
- `unpost()` - Reverse posting
- `reverse_entry(user, date, reason)` - Create reversing entry
- `can_edit()` - Check if editable
- `can_post()` - Check if can be posted
- `can_delete()` - Check if can delete

**Workflow:**
1. Create entry (Draft)
2. Add lines
3. Verify balance
4. Post (creates/updates AccountBalance records)
5. Optional: Unpost or Reverse

#### JournalEntryLine
**Purpose:** Individual lines within a journal entry

**Key Fields:**
- `journal_entry` - Journal entry (cascade delete)
- `line_number` - Sequence number
- `account` - Account
- `description` - Line description
- `debit_amount` - Debit amount (>= 0)
- `credit_amount` - Credit amount (>= 0)
- `currency` - Currency
- `exchange_rate` - Exchange rate (default 1)
- `cost_center` - Cost center (optional)

**Business Rules:**
- Cannot have both debit and credit amounts
- Must have at least one amount
- Amounts must be non-negative
- Account must accept entries

#### JournalEntryTemplate
**Purpose:** Reusable templates for recurring journal entries

**Key Fields:**
- `code` - Template code
- `name` - Template name
- `description` - Description
- `entry_type` - Type
- `default_description` - Default entry description
- `auto_balance` - Auto-balance amount
- `category` - Template category for grouping

**Functions:**
- `create_journal_entry(**kwargs)` - Create entry from template
- `is_balanced()` - Check if template is balanced

### 4. Voucher Models

#### PaymentVoucher
**Purpose:** Cash/bank payment vouchers

**Key Fields:**
- `number` - Auto-generated (PV{YYYYMM}{0001})
- `date` - Payment date
- `status` - Status (draft, confirmed, posted, cancelled)
- `beneficiary_name` - Payee name
- `beneficiary_type` - Beneficiary type (supplier, employee, other)
- `amount` - Payment amount
- `currency` - Currency
- `payment_method` - Payment method (cash, check, transfer, credit card)
- `cash_account` - Cash/bank account
- `expense_account` - Expense account (optional)
- `check_number` - Check number (if applicable)
- `bank_name` - Bank name
- `journal_entry` - Linked journal entry (auto-created)

**Business Rules:**
- Number format: PV{YYYYMM}{0001}
- Must be "Confirmed" to post
- Posting creates journal entry automatically:
  - DR Expense Account
  - CR Cash Account
- Cannot edit/delete when posted

**Workflow:**
1. Create (Draft)
2. Confirm
3. Post (auto-creates journal entry)
4. Optional: Unpost

#### ReceiptVoucher
**Purpose:** Cash/bank receipt vouchers

**Key Fields:**
- `number` - Auto-generated (RV{YYYYMM}{0001})
- `date` - Receipt date
- `status` - Status
- `received_from` - Received from
- `payer_type` - Payer type (customer, other)
- `amount` - Receipt amount
- `receipt_method` - Receipt method
- `cash_account` - Cash/bank account
- `income_account` - Income account (optional)
- `journal_entry` - Linked journal entry

**Business Rules:**
- Number format: RV{YYYYMM}{0001}
- Posting creates journal entry automatically:
  - DR Cash Account
  - CR Income Account

### 5. Balance Models

#### AccountBalance
**Purpose:** Efficient balance tracking for accounts by period/year

**Key Fields:**
- `account` - Account
- `fiscal_year` - Fiscal year
- `period` - Accounting period (nullable for yearly balance)
- `opening_balance_debit` - Opening debit balance
- `opening_balance_credit` - Opening credit balance
- `period_debit` - Total debits in period
- `period_credit` - Total credits in period
- `closing_balance_debit` - Calculated closing debit
- `closing_balance_credit` - Calculated closing credit

**Logic:**
- Auto-created when journal entry posted
- Closing balance = Opening balance + Period movements
- Respects account type natural balance

#### AccountBalanceHistory
**Purpose:** Audit trail for balance changes

**Fields:**
- Change date
- Change reason
- Old and new balances (debit and credit)
- Affected amount
- Reference type and ID
- User who made the change

---

## Forms

### 1. Account Forms
- **AccountForm** - Create/edit accounts with hierarchical parent selection
- **AccountFilterForm** - Filter accounts by type, level, status
- **AccountImportForm** - Bulk account import (CSV/Excel)

### 2. Journal Forms
- **JournalEntryForm** - Basic entry form
- **JournalEntryLineFormSet** - Entry line formset (minimum 2 lines)
- **QuickJournalEntryForm** - Simplified form for common entries (2 lines)
- **JournalEntryTemplateForm** - Create reusable templates
- **UseTemplateForm** - Create entry from template

### 3. Voucher Forms
- **PaymentVoucherForm** - Payment voucher form with all details
- **ReceiptVoucherForm** - Receipt voucher form

### 4. Fiscal Forms
- **FiscalYearForm** - Create/edit fiscal years
- **CreatePeriodsForm** - Auto-create periods (monthly/quarterly)
- **AccountingPeriodForm** - Create/edit periods
- **PeriodClosingForm** - Close period with reason
- **CostCenterForm** - Create/edit cost centers

---

## Views

### 1. Dashboard
- **AccountingDashboardView** - Main dashboard with:
  - Real-time statistics
  - Recent entries
  - Quick action buttons
  - Charts and graphs

### 2. Account Views
- **List View** - Hierarchical tree view with filtering and search
- **Create/Edit** - Account forms
- **Detail** - Account info, balance summary, recent transactions, sub-accounts
- **Delete** - With business rules (cannot delete if has entries or children)

### 3. Journal Entry Views
- **List View** - With filtering (status, type, date range, fiscal year)
- **Create Entry** - With dynamic line addition, real-time balance calculation, template selection
- **Detail** - Full entry details with action buttons (Post, Unpost, Edit, Delete, Copy, Reverse)
- **Quick Entry** - For simple 2-line entries

### 4. Template Views
- **List Templates** - All templates with usage statistics
- **Create/Edit Template** - With template lines
- **Use Template** - Create entry from template

### 5. Voucher Views

#### Payment Vouchers
- List view with filtering and search
- Create/edit voucher
- Detail with linked journal entry
- Confirm and post
- Print check

#### Receipt Vouchers
- Same structure as payment vouchers

### 6. Fiscal Views
- Fiscal year management
- Auto-create periods
- Accounting period management
- Close/reopen periods
- Cost center management

### 7. Report Views
Detailed in Reports section

---

## Financial Reports

### 1. General Ledger
**Purpose:** Display all transactions for a specific account

**Parameters:**
- Account
- Date range
- Fiscal year/period (optional)

**Features:**
- All transactions for account
- Opening and closing balances
- Cumulative running balance
- Export: PDF, Excel, CSV

### 2. Trial Balance
**Purpose:** Display all accounts with their balances for verification

**Parameters:**
- As-of date or period
- Fiscal year (optional)
- Account level (to group sub-accounts)

**Features:**
- All accounts with debit/credit totals
- Hierarchical display
- Balance verification (Total Debit = Total Credit)
- Export: PDF, Excel, CSV

### 3. Account Statement
**Purpose:** Detailed transaction history for an account

**Parameters:**
- Account
- Date range

**Features:**
- Detailed transaction history
- Partner information
- Reference linking
- Export: PDF, Excel, CSV

### 4. Income Statement
**Purpose:** Display revenues and expenses to calculate net income

**Parameters:**
- Date range
- Fiscal year (optional)

**Features:**
- Revenue accounts total
- Expense accounts total
- Net income calculation
- Comparative periods
- Export: PDF, Excel, CSV

### 5. Balance Sheet
**Purpose:** Display financial position (Assets = Liabilities + Equity)

**Parameters:**
- As-of date
- Fiscal year (optional)

**Features:**
- Assets (current, fixed, other)
- Liabilities (current, long-term)
- Equity
- Balance verification (Assets = Liabilities + Equity)
- Export: PDF, Excel, CSV

### 6. Account Comparison
**Purpose:** Side-by-side comparison of multiple accounts across periods

**Parameters:**
- Multiple accounts
- Multiple periods

**Features:**
- Side-by-side comparison
- Variance analysis
- Percentage change
- Charts/graphs
- Export: PDF, Excel, CSV

---

## URL Patterns

### Base URL: `/accounting/`

#### Dashboard
- `/` - Main page

#### Account Types
- `/account-types/` - List
- `/account-types/create/` - Create
- `/account-types/<id>/update/` - Update
- `/account-types/<id>/delete/` - Delete

#### Accounts
- `/accounts/` - List
- `/accounts/create/` - Create
- `/accounts/<id>/` - Detail
- `/accounts/<id>/update/` - Update
- `/accounts/<id>/delete/` - Delete

#### Journal Entries
- `/journal-entries/` - List
- `/journal-entries/create/` - Create
- `/journal-entries/<id>/` - Detail
- `/journal-entries/<id>/update/` - Update
- `/journal-entries/<id>/delete/` - Delete
- `/journal-entries/<id>/copy/` - Copy
- `/journal-entries/quick/` - Quick entry

#### Templates
- `/templates/` - List
- `/templates/create/` - Create
- `/templates/<id>/` - Detail
- `/templates/<id>/update/` - Update
- `/templates/<id>/delete/` - Delete
- `/templates/use/` - Use template

#### Vouchers
- `/payment-vouchers/` - Payment voucher list
- `/payment-vouchers/create/` - Create
- `/payment-vouchers/<id>/` - Detail
- `/payment-vouchers/<id>/print-check/` - Print check
- `/receipt-vouchers/` - Receipt voucher list
- (Same structure for receipt vouchers)

#### Fiscal Management
- `/fiscal-years/` - List
- `/fiscal-years/create/` - Create
- `/fiscal-years/<id>/` - Detail
- `/periods/` - Period list
- `/periods/create/` - Create period
- `/cost-centers/` - Cost center list

#### Reports
- `/reports/general-ledger/` - General ledger
- `/reports/trial-balance/` - Trial balance
- `/reports/account-statement/` - Account statement
- `/reports/income-statement/` - Income statement
- `/reports/balance-sheet/` - Balance sheet
- `/reports/account-comparison/` - Account comparison

---

## Workflows

### 1. Account Setup Workflow

1. Create Account Types (if not exists)
2. Create Fiscal Year
3. Create Accounting Periods (monthly/quarterly)
4. Create Chart of Accounts (hierarchical)
5. Set Opening Balances
6. Create Cost Centers (optional)
7. Create Entry Templates (optional)

### 2. Journal Entry Workflow

**Standard Entry:**
1. Create Draft Entry
2. Add Entry Lines (minimum 2)
3. Verify Balance (debit = credit)
4. Post Entry
   - Updates AccountBalance
   - Creates AccountBalanceHistory
   - Status changes to Posted
5. Optional: Unpost or Reverse

**Template-Based Entry:**
1. Select Template
2. Specify Date and Description
3. System auto-fills lines from template
4. Edit amounts if needed
5. Post Entry

**Quick Entry (2-line):**
1. Specify accounts and amounts
2. System creates balanced entry
3. Post immediately

### 3. Payment Voucher Workflow

1. Create Draft Payment Voucher
   - Specify beneficiary
   - Enter amount
   - Select cash/bank account
   - Select expense account
   - Choose payment method
2. Save as Draft
3. Confirm Voucher (status: Confirmed)
4. Post Voucher
   - System creates journal entry:
     - DR Expense Account
     - CR Cash Account
   - Status changes to Posted
5. Optional: Print Check
6. Optional: Unpost

### 4. Receipt Voucher Workflow

1. Create Draft Receipt Voucher
   - Specify payer
   - Enter amount
   - Select cash/bank account
   - Select income account
   - Choose receipt method
2. Save as Draft
3. Confirm Voucher
4. Post Voucher
   - System creates journal entry:
     - DR Cash Account
     - CR Income Account
   - Status changes to Posted
5. Optional: Print Receipt
6. Optional: Unpost

### 5. Period Closing Workflow

1. Verify all entries posted for the period
2. Run Trial Balance to verify balances
3. Create adjustment entries if needed
4. Generate financial statements
5. Close Accounting Period
   - Prevents new entries in the period
   - Locks period data
6. Optional: Create closing entries
7. Optional: Open next period

### 6. Year-End Closing Workflow

1. Close all periods in fiscal year
2. Generate annual financial statements
3. Create year-end adjusting entries
4. Create closing entries:
   - Close revenue accounts to income summary
   - Close expense accounts to income summary
   - Close income summary to retained earnings
5. Close Fiscal Year
6. Create new fiscal year with opening balances

---

## Integration Points

### 1. Core Module Integration

- **Company & Branch:** All models extend BaseModel/DocumentBaseModel
- **User Management:** Track user who created/posted
- **Numbering Sequences:** Journal entry numbers (JV/YYYY/NNNN)
- **Currency Management:** Multi-currency transactions
- **Business Partners:** Link customers/suppliers in vouchers

### 2. Assets Module Integration

- **Asset Accounting:** Automatic journal entries for asset transactions
- **Depreciation:** Depreciation posting
- **Asset Disposal:** Disposal entries
- **Asset Transfer:** Transfer entries

### 3. Sales Module Integration (Planned)

- **Sales Invoices:** Automatic journal entry creation
- **Revenue Recognition:** Customer account updates
- **Customer Payments:** Receipt voucher integration

### 4. Purchases Module Integration (Planned)

- **Purchase Invoices:** Automatic journal entry creation
- **Expense/Inventory Recognition:** Supplier account updates
- **Supplier Payments:** Payment voucher integration

### 5. Inventory Module Integration (Planned)

- **Inventory Transactions:** Inventory value adjustments
- **Cost of Goods Sold:** Valuation accounts
- **Stock Movements:** Automatic inventory accounting

---

## Permissions

### 1. Django Permissions (per model)
- `view_<model>` - View permission
- `add_<model>` - Create permission
- `change_<model>` - Edit permission
- `delete_<model>` - Delete permission

### 2. Custom Permissions
- Journal entry posting requires change permission
- Report viewing requires view permission
- Export functionality requires view permission

### 3. Company-Level Security
- All data automatically filtered by current company
- CompanyMixin ensures company isolation
- Middleware sets request.current_company

---

## Performance Optimizations

### 1. Database Optimizations

**Indexes:**
- entry_date + status on JournalEntry
- company + status on JournalEntry
- account + fiscal_year on AccountBalance
- change_date on AccountBalanceHistory

**Select Related:**
- Views use select_related for foreign keys
- Reduces N+1 query problems

**Prefetch Related:**
- Entry lines prefetched in list views
- Template lines prefetched

### 2. Caching

- Balance calculations cached in AccountBalance
- Periodic refresh instead of real-time calculation
- Template rendering caching

### 3. Query Optimization

- Aggregate functions for counts and sums
- Bulk operations where possible
- Pagination for large datasets

---

## APIs

### 1. Dashboard APIs
- `/api/dashboard-stats/` - Statistics
- `/api/recent-entries/` - Recent entries
- `/api/quick-tasks/` - Quick tasks

### 2. DataTables APIs
- All list views have corresponding `/ajax/<model>/` endpoints
- Support pagination, sorting, filtering, search

### 3. Autocomplete APIs
- `/ajax/accounts/search/` - Account search
- `/ajax/accounts/autocomplete/` - Select2 integration
- `/ajax/cost-centers/search/` - Cost center search

### 4. Action APIs
- `/ajax/journal-entries/<id>/post/` - Post entry
- `/ajax/journal-entries/<id>/unpost/` - Unpost entry
- `/ajax/payment-vouchers/<id>/confirm/` - Confirm voucher
- `/ajax/payment-vouchers/<id>/post/` - Post voucher
- `/ajax/periods/<id>/close/` - Close period
- `/ajax/fiscal-years/<id>/create-periods/` - Auto-create periods

---

## Future Enhancements

### 1. Planned Features

#### 1.1 Bank Reconciliation
- Import bank statements
- Match transactions
- Reconciliation reports

#### 1.2 Budget Management
- Budget creation by account/cost center
- Budget vs. actual reports
- Variance analysis

#### 1.3 Recurring Entries
- Scheduled automatic entries
- Template-based automation

#### 1.4 Multi-Level Approval
- Workflow for entry approval
- Authority limits
- Approval history

#### 1.5 Enhanced Reporting
- Cash flow statement
- Consolidated financial statements
- Customizable reports

#### 1.6 Tax Management
- Tax accounts configuration
- Tax calculation on transactions
- Tax reports and filings

### 2. Technical Improvements

#### 2.1 API Development
- RESTful API for external integration
- API authentication
- Webhooks for events

#### 2.2 Real-Time Updates
- WebSocket integration
- Live balance updates
- Collaborative editing notifications

#### 2.3 Advanced Analytics
- Predictive analytics
- Trend analysis
- Financial KPIs dashboard

---

## Conclusion

The Accounting Module is a comprehensive, production-ready financial management system with robust double-entry accounting, multi-company support, fiscal period management, and extensive reporting capabilities. The system follows Django best practices, implements proper business logic, maintains data integrity, and provides an excellent user experience with modern UI components.

The module is well-integrated with the ERP system's core functionality and provides strong foundations for future enhancements and integrations with other modules such as Sales, Purchases, and Inventory.

</div>

---

## Quick Reference | ูุฑุฌุน ุณุฑูุน

<div dir="rtl">

### ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ | Key Features

| ุงูููุฒุฉ ุงูุนุฑุจูุฉ | English Feature | ุงูุญุงูุฉ | Status |
|----------------|-----------------|--------|--------|
| ุฏููู ุงูุญุณุงุจุงุช ุงููุฑูู | Hierarchical Chart of Accounts | โ ูุชุงุญ | โ Available |
| ุงููููุฏ ุงูููููุฉ | Journal Entries | โ ูุชุงุญ | โ Available |
| ุณูุฏุงุช ุงูุตุฑู ูุงููุจุถ | Payment & Receipt Vouchers | โ ูุชุงุญ | โ Available |
| ุงููุชุฑุงุช ุงููุงููุฉ | Fiscal Periods | โ ูุชุงุญ | โ Available |
| ูุฑุงูุฒ ุงูุชูููุฉ | Cost Centers | โ ูุชุงุญ | โ Available |
| ุงูุชูุงุฑูุฑ ุงููุงููุฉ | Financial Reports | โ ูุชุงุญ | โ Available |
| ุชุนุฏุฏ ุงูุนููุงุช | Multi-Currency | โ ูุชุงุญ | โ Available |
| ุชุณููุฉ ุงูุจูู | Bank Reconciliation | ๐ ูุฑูุจุงู | ๐ Coming Soon |
| ุงูููุงุฒูุฉ ุงูุชูุฏูุฑูุฉ | Budget Management | ๐ ูุฑูุจุงู | ๐ Coming Soon |

### ุงููุณุงุฑุงุช ุงูุณุฑูุนุฉ | Quick Paths

| ุงููุธููุฉ | Function | ุงููุณุงุฑ | Path |
|---------|----------|--------|------|
| ููุญุฉ ุงููุนูููุงุช | Dashboard | `/accounting/` |
| ุงูุญุณุงุจุงุช | Accounts | `/accounting/accounts/` |
| ุงููููุฏ ุงูููููุฉ | Journal Entries | `/accounting/journal-entries/` |
| ุณูุฏุงุช ุงูุตุฑู | Payment Vouchers | `/accounting/payment-vouchers/` |
| ุณูุฏุงุช ุงููุจุถ | Receipt Vouchers | `/accounting/receipt-vouchers/` |
| ููุฒุงู ุงููุฑุงุฌุนุฉ | Trial Balance | `/accounting/reports/trial-balance/` |
| ูุงุฆูุฉ ุงูุฏุฎู | Income Statement | `/accounting/reports/income-statement/` |
| ุงูููุฒุงููุฉ ุงูุนููููุฉ | Balance Sheet | `/accounting/reports/balance-sheet/` |

</div>

---

## Technical Stack | ุงูููุฏุณ ุงูุชููู

<div dir="rtl">

- **ุงูุฅุทุงุฑ | Framework:** Django 5.2.5
- **ูุงุนุฏุฉ ุงูุจูุงูุงุช | Database:** MySQL
- **Python:** 3.10
- **ุงููุงุฌูุฉ | Frontend:** Bootstrap 5, jQuery, DataTables, Select2
- **ุงููุบุฉ | Language:** Arabic (RTL) with English support

</div>

---

## Support & Documentation | ุงูุฏุนู ูุงูุชูุซูู

<div dir="rtl">

ูููุฒูุฏ ูู ุงููุนูููุงุช ูุงูุฏุนู ุงูุชูููุ ูุฑุฌู ุงูุฑุฌูุน ุฅูู:
- ููู CLAUDE.md ูู ุฌุฐุฑ ุงููุดุฑูุน
- ุงูุชูุซูู ุงูุฏุงุฎูู ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ
- ููุงุฐุฌ Django ูู `apps/accounting/models/`

For more information and technical support, please refer to:
- CLAUDE.md file in project root
- Inline code documentation
- Django models in `apps/accounting/models/`

</div>

---

**Version:** 1.0
**Last Updated:** November 2024
**Module Path:** `apps/accounting/`
**Documentation:** ACCOUNTING_MODULE_DOCUMENTATION.md
