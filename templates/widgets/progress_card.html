{# templates/widgets/progress_card.html #}
<div class="card widget-progress-card border-0 shadow-sm h-100">
    <div class="card-header bg-white border-bottom">
        <h6 class="mb-0 fw-bold">{{ title }}</h6>
    </div>
    <div class="card-body">
        <div class="d-flex justify-content-between align-items-center mb-2">
            <span class="text-muted">{{ current }} / {{ total }}</span>
            {% if show_percentage %}
            <span class="fw-bold text-{{ color }}">{{ percentage }}%</span>
            {% endif %}
        </div>

        <div class="progress" style="height: 25px;">
            <div class="progress-bar bg-{{ color }} progress-bar-striped progress-bar-animated"
                 role="progressbar"
                 style="width: {{ percentage }}%;"
                 aria-valuenow="{{ percentage }}"
                 aria-valuemin="0"
                 aria-valuemax="100">
                {% if show_percentage %}
                {{ percentage }}%
                {% endif %}
            </div>
        </div>

        {% if percentage >= 100 %}
        <div class="mt-3 text-center">
            <span class="badge bg-success">
                <i class="fas fa-check-circle me-1"></i>مكتمل
            </span>
        </div>
        {% elif percentage >= 75 %}
        <div class="mt-3 text-center">
            <span class="badge bg-warning">
                <i class="fas fa-hourglass-half me-1"></i>قريب من الاكتمال
            </span>
        </div>
        {% endif %}
    </div>
</div>

<style>
.widget-progress-card .progress {
    border-radius: 0.5rem;
    box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);
}

.widget-progress-card .progress-bar {
    font-size: 0.875rem;
    font-weight: 600;
    transition: width 0.6s ease;
}
</style>
