{# templates/widgets/activity_feed.html #}
<div class="card widget-activity-feed border-0 shadow-sm h-100">
    <div class="card-header bg-white border-bottom">
        <h6 class="mb-0 fw-bold">
            <i class="fas fa-clock text-primary me-2"></i>{{ title }}
        </h6>
    </div>
    <div class="card-body p-0">
        <div class="activity-list">
            {% for activity in activities %}
            <div class="activity-item d-flex align-items-start p-3 {% if not forloop.last %}border-bottom{% endif %}">
                <div class="activity-icon bg-{{ activity.color|default:'primary' }} text-white rounded-circle d-flex align-items-center justify-content-center me-3">
                    <i class="fas {{ activity.icon|default:'fa-circle' }}"></i>
                </div>
                <div class="activity-content flex-grow-1">
                    <div class="activity-title">{{ activity.title }}</div>
                    {% if activity.description %}
                    <small class="text-muted d-block">{{ activity.description }}</small>
                    {% endif %}
                    {% if activity.time %}
                    <small class="text-muted">
                        <i class="fas fa-clock me-1"></i>{{ activity.time|time_ago }}
                    </small>
                    {% endif %}
                </div>
            </div>
            {% empty %}
            <div class="p-4 text-center text-muted">
                <i class="fas fa-inbox fa-3x mb-2"></i>
                <p>لا توجد نشاطات حديثة</p>
            </div>
            {% endfor %}
        </div>
    </div>

    {% if has_more %}
    <div class="card-footer bg-transparent text-center">
        <a href="#" class="card-link text-primary text-decoration-none">
            عرض المزيد <i class="fas fa-arrow-left ms-1"></i>
        </a>
    </div>
    {% endif %}
</div>

<style>
.activity-icon {
    width: 40px;
    height: 40px;
    flex-shrink: 0;
    font-size: 0.875rem;
}

.activity-item {
    transition: background 0.2s;
}

.activity-item:hover {
    background: #f8f9fa;
}

.activity-title {
    font-weight: 500;
    color: #2c3e50;
}
</style>
