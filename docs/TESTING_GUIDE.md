# ุฏููู ุงุฎุชุจุงุฑ ุงูููุฒุงุช ุงููุชูุฏูุฉ ููููุงุชูุฑ
## Testing Guide for Advanced Invoice Features

ุชุงุฑูุฎ: 2025-11-09

---

## ๐ ููููุฉ ุงูุงุฎุชุจุงุฑ

### ุงูุฎุทูุฉ 1: ูุชุญ ุตูุญุฉ ุงููุงุชูุฑุฉ
ุงูุชุญ ุงููุชุตูุญ ูุงุฐูุจ ุฅูู:
```
http://127.0.0.1:8000/purchases/invoices/create/
```

### ุงูุฎุทูุฉ 2: ูุชุญ Console ุงููุชุตูุญ
1. ุงุถุบุท `F12` ุฃู `Ctrl+Shift+I` (Windows/Linux)
2. ุฃู `Cmd+Option+I` (Mac)
3. ุงุฐูุจ ุฅูู ุชุจููุจ **Console**

### ุงูุฎุทูุฉ 3: ุงูุชุญูู ูู ุชุญููู ุงููููุงุช
ูู Consoleุ ุงูุชุจ:
```javascript
typeof InvoiceAdvancedFeatures
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ**: `"object"` (ุฅุฐุง ุชู ุงูุชุญููู ุจูุฌุงุญ)
**ุฅุฐุง ูุงูุช ุงููุชูุฌุฉ**: `"undefined"` - ุงูููู ูู ูุชู ุชุญูููู

---

## โ ุงุฎุชุจุงุฑ ุงูููุฒุงุช ุงูุณุจุนุฉ

### 1. ุงูุจุญุซ ุงูุณุฑูุน ููููุงุฏ (Quick Item Search)

**ููููุฉ ุงูุงุฎุชุจุงุฑ**:
1. ูู Data Gridุ ุงุฐูุจ ุฅูู ุนููุฏ "ุงููุงุฏุฉ" (Item)
2. ุงุจุฏุฃ ุงููุชุงุจุฉ ูู ุญูู ุงููุงุฏุฉ
3. ุงูุชุจ ุญุฑููู ุนูู ุงูุฃูู (ูุซูุงู: "ูู")

**ุงููุชูุฌุฉ ุงููุชููุนุฉ**:
- ูุฌุจ ุฃู ุชุธูุฑ ูุงุฆูุฉ ููุณุฏูุฉ ุจุงูููุงุฏ ุงููุทุงุจูุฉ
- ููููู ุงุณุชุฎุฏุงู ุงูุฃุณูู ููุชููู
- ุงุถุบุท Enter ููุงุฎุชูุงุฑ

**ุฅุฐุง ูู ุชุนูู**:
1. ุงูุชุญ Console
2. ุงูุชุจ:
```javascript
// Test AJAX endpoint
fetch('/purchases/ajax/items/search/?q=test')
  .then(r => r.json())
  .then(d => console.log(d))
```

---

### 2. ุชูููุฒ ุงูุถุฑูุจุฉ ุจุงูุฃููุงู (Tax Color Coding)

**ููููุฉ ุงูุงุฎุชุจุงุฑ**:
1. ุฃุถู ุณุทุฑูุง ุฌุฏูุฏูุง ูู Data Grid
2. ุงุฎุชุฑ ูุงุฏุฉ ูุนูุงุฉ ูู ุงูุถุฑูุจุฉ
3. ุงูุธุฑ ุฅูู ููู ุฎูููุฉ ุงูุณุทุฑ

**ุงููุชูุฌุฉ ุงููุชููุนุฉ**:
- **ุฃุฎุถุฑ ูุงุชุญ (#d4edda)**: ุงูููุงุฏ ุงููุนูุงุฉ ูู ุงูุถุฑูุจุฉ
- **ุฃุญูุฑ ูุงุชุญ (#f8d7da)**: ุงูููุงุฏ ุงูุฎุงุถุนุฉ ููุถุฑูุจุฉ

**ุฅุฐุง ูู ุชุนูู**:
- ุงูุญุต CSS ูู Console:
```javascript
// Check if CSS is loaded
document.styleSheets.length
```

---

### 3. ูุธุงู ุงูููุงููุงุช ููุฏูุน ุงูุขุฌู (Payment Approval)

**ููููุฉ ุงูุงุฎุชุจุงุฑ**:
1. ุงุฎุชุฑ ููุฑุฏ ูู ุญุฏ ุงุฆุชูุงูู
2. ุบููุฑ ููุน ุงูุฏูุน ุฅูู "ุฐูู" (Credit)
3. ุฃุฏุฎู ูุจูุบูุง ูุชุฌุงูุฒ ุงูุญุฏ ุงูุงุฆุชูุงูู
4. ุญุงูู ุงูุญูุธ

**ุงููุชูุฌุฉ ุงููุชููุนุฉ**:
- ูุฌุจ ุฃู ูุธูุฑ ุชูุจูู ูุทูุจ ุงูููุงููุฉ
- ูุนุฑุถ ุงููุนูููุงุช: ุงูุฑุตูุฏ ุงูุญุงููุ ุงูุญุฏ ุงูุงุฆุชูุงููุ ุงููุจูุบ ุงูุฒุงุฆุฏ

**ุฅุฐุง ูู ุชุนูู**:
```javascript
// Test approval endpoint
fetch('/purchases/ajax/request-credit-approval/', {
  method: 'POST',
  headers: {'Content-Type': 'application/json'},
  body: JSON.stringify({
    supplier_id: 1,
    amount: 10000
  })
}).then(r => r.json()).then(console.log)
```

---

### 4. ุฏุนู ุงูููุจูุฑุฏ ุงููุงูู (Keyboard Support)

**ููููุฉ ุงูุงุฎุชุจุงุฑ**:
ุฌุฑุจ ูุฐู ุงูุงุฎุชุตุงุฑุงุช:

| ุงูููุชุงุญ | ุงููุธููุฉ ุงููุชููุนุฉ |
|---------|-------------------|
| **F9** | ุญูุธ ุงููุงุชูุฑุฉ |
| **F2** | ุฅุถุงูุฉ ุณุทุฑ ุฌุฏูุฏ |
| **F3** | ูุชุญ ุจุญุซ ุงูููุงุฏ |
| **F4** | ุนุฑุถ ุงููุงุฆูุฉ ุงูููุณุฏูุฉ |
| **F5** | ุชุญุฏูุซ ุงูุจูุงูุงุช |
| **Escape** | ุฅูุบุงุก/ุงูุนูุฏุฉ |
| **Ctrl+D** | ุญุฐู ุงูุณุทุฑ ุงูุญุงูู |
| **Tab** | ุงูุงูุชูุงู ููุญูู ุงูุชุงูู |

**ุฅุฐุง ูู ุชุนูู**:
```javascript
// Check if keyboard handler is attached
document.onkeydown
```

---

### 5. ุนุฑุถ ุณุฌู ุงูุฃุณุนุงุฑ (Price History)

**ููููุฉ ุงูุงุฎุชุจุงุฑ**:
1. ุฃุถู ูุงุฏุฉ ูู ุงูุณุทุฑ
2. ุงุจุญุซ ุนู ุฃููููุฉ ุฃู ุฒุฑ "ุงูุณุฌู" ุฃู "ุงูุชุงุฑูุฎ"
3. ุงููุฑ ุนููู

**ุงููุชูุฌุฉ ุงููุชููุนุฉ**:
- ูุฌุจ ุฃู ุชุธูุฑ ูุงูุฐุฉ ููุจุซูุฉ (Modal)
- ุชุญุชูู ุนูู ุฌุฏูู ุจูู ุนูููุงุช ุงูุดุฑุงุก ุงูุณุงุจูุฉ
- ูุน ุฅุญุตุงุฆูุงุช: ูุชูุณุท ุงูุณุนุฑุ ุฅุฌูุงูู ุงููููุฉุ ุฅูุฎ

**ุฅุฐุง ูู ุชุนูู**:
```javascript
// Test price history endpoint
fetch('/purchases/ajax/price-history/?item=1&supplier=1')
  .then(r => r.json())
  .then(console.log)
```

---

### 6. ุงูุชุญูู ูู ุงูุฃุนูุฏุฉ (Column Control)

**ููููุฉ ุงูุงุฎุชุจุงุฑ**:
1. ุงุจุญุซ ุนู ุฒุฑ "โ๏ธ ุงูุฃุนูุฏุฉ" ูู ุดุฑูุท ุงูุฃุฏูุงุช
2. ุงููุฑ ุนููู
3. ุฌุฑุจ ุฅุฎูุงุก/ุฅุธูุงุฑ ุฃุนูุฏุฉ ูุฎุชููุฉ

**ุงููุชูุฌุฉ ุงููุชููุนุฉ**:
- ูุงุฆูุฉ ููุณุฏูุฉ ูุน checkboxes ููู ุนููุฏ
- ุงูุชุบููุฑุงุช ุชุทุจู ููุฑูุง
- ุชูุญูุธ ุงูุชูุถููุงุช ูู localStorage

**ุฅุฐุง ูู ุชุนูู**:
```javascript
// Check localStorage
localStorage.getItem('invoice_column_preferences')
```

---

### 7. ุดุฑูุท ุงูุญุงูุฉ ุงููุญุณูู (Enhanced Status Bar)

**ููููุฉ ุงูุงุฎุชุจุงุฑ**:
1. ุงูุธุฑ ุฅูู ุฃุณูู ุงูุตูุญุฉ
2. ูุฌุจ ุฃู ุชุฑู ุดุฑูุท ุญุงูุฉ

**ุงููุชูุฌุฉ ุงููุชููุนุฉ**:
- ูุนุฑุถ: ุญุงูุฉ ุงููุงุชูุฑุฉุ ุนุฏุฏ ุงูุณุทูุฑุ ุงูุฅุฌูุงูู
- ูุนุฑุถ ุงุฎุชุตุงุฑุงุช ุงูููุจูุฑุฏ
- ูุชุญุฏุซ ุชููุงุฆููุง ุนูุฏ ุงูุชุบููุฑ

**ุฅุฐุง ูู ุชุนูู**:
```javascript
// Check if status bar exists
document.querySelector('.enhanced-status-bar')
```

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก ุงูุดุงุฆุนุฉ

### ุงููุดููุฉ: ูุง ุดูุก ูุนูู ุนูู ุงูุฅุทูุงู

**ุงูุญููู ุงููุญุชููุฉ**:

1. **ุชุญูู ูู ุชุญููู JavaScript**:
```javascript
// ูู Console
console.log('Invoice script loaded:', typeof InvoiceAdvancedFeatures !== 'undefined');
```

2. **ุชุญูู ูู ุฃุฎุทุงุก Console**:
- ุงูุชุญ Console (F12)
- ุงุจุญุซ ุนู ุฃุฎุทุงุก ุจุงูููู ุงูุฃุญูุฑ

3. **ุชุญูู ูู ุชุญููู CSS**:
```javascript
// ุนุฏุฏ ูููุงุช CSS ุงููุญููุฉ
document.styleSheets.length
```

4. **ุงูุณุญ ุงูุฐุงูุฑุฉ ุงููุคูุชุฉ ูููุชุตูุญ**:
- `Ctrl+Shift+R` (Windows/Linux)
- `Cmd+Shift+R` (Mac)

---

### ุงููุดููุฉ: AJAX ูุง ูุนูู (404 Not Found)

**ุงูุญู**:
1. ุชุญูู ูู URLs ูู `apps/purchases/urls.py`
2. ุชุฃูุฏ ูู ุฃู ุงูุฎุงุฏู ูุนูู
3. ุฌุฑุจ ุงููุตูู ุงููุจุงุดุฑ:
```
http://127.0.0.1:8000/purchases/ajax/items/search/?q=test
```

**ูุฌุจ ุฃู ุชุฑู**:
```json
{
  "results": [...],
  "count": ...
}
```

---

### ุงููุดููุฉ: ุงูุฃููุงู ูุง ุชุธูุฑ

**ุงูุญู**:
1. ุงูุญุต ุงูุนูุงุตุฑ ูู Inspector (F12)
2. ุชุญูู ูู ุฃู CSS ูุญูู:
```javascript
// ูู Console
const link = document.querySelector('link[href*="invoice_advanced.css"]');
console.log('CSS loaded:', !!link);
```

3. ุฅุฐุง ูุงู ูุญูููุง ูููู ูุง ูุนููุ ุชุญูู ูู specificity:
```javascript
// ุชุทุจูู ุงูุฃููุงู ูุฏูููุง ููุงุฎุชุจุงุฑ
document.querySelector('.formset-row').style.backgroundColor = '#d4edda';
```

---

### ุงููุดููุฉ: ุงูููุจูุฑุฏ ูุง ูุณุชุฌูุจ

**ุงูุญู**:
1. ุชุญูู ูู ุฃู event listeners ููุนูุฉ:
```javascript
// ูู Console
document.onkeydown
```

2. ุฌุฑุจ ุชูุนูู ูุฏูููุง:
```javascript
InvoiceAdvancedFeatures.setupKeyboardShortcuts();
```

---

## ๐ ุณุฌู ุงูุฃุฎุทุงุก (Debug Log)

ุฅุฐุง ูุงุฌูุช ูุดููุฉุ ุงุฌูุน ูุฐู ุงููุนูููุงุช:

```javascript
// ูู Consoleุ ููุฐ ูุฐุง ุงูููุฏ
const debugInfo = {
  scriptsLoaded: typeof InvoiceAdvancedFeatures !== 'undefined',
  cssLoaded: !!document.querySelector('link[href*="invoice_advanced"]'),
  jQueryLoaded: typeof jQuery !== 'undefined',
  currentURL: window.location.href,
  errors: [], // ุงูุณุฎ ุฃู ุฃุฎุทุงุก ูู Console
  networkErrors: [] // ุชุญูู ูู ุชุจููุจ Network
};
console.log(JSON.stringify(debugInfo, null, 2));
```

---

## โจ ุงููุฌุงุญ!

ุนูุฏูุง ุชุนูู ุฌููุน ุงูููุฒุงุชุ ูุฌุจ ุฃู:

1. โ ูุธูุฑ ุงูุจุญุซ ุงูุณุฑูุน ุนูุฏ ุงููุชุงุจุฉ
2. โ ุชุชุบูุฑ ุฃููุงู ุงูุณุทูุฑ ุญุณุจ ุญุงูุฉ ุงูุถุฑูุจุฉ
3. โ ูุนูู ุฌููุน ุงุฎุชุตุงุฑุงุช ุงูููุจูุฑุฏ
4. โ ูุธูุฑ ุชูุจูู ุงูููุงููุฉ ุนูุฏ ุงูุญุงุฌุฉ
5. โ ุชุนูู ูุงูุฐุฉ ุณุฌู ุงูุฃุณุนุงุฑ
6. โ ูููู ุงูุชุญูู ูู ุงูุฃุนูุฏุฉ
7. โ ุดุฑูุท ุงูุญุงูุฉ ูุนุฑุถ ุงููุนูููุงุช ุงูุตุญูุญุฉ

---

## ๐ ุงูุฏุนู

ุฅุฐุง ุงุณุชูุฑุช ุงููุดุงูู:
1. ุฑุงุฌุน `docs/IMPLEMENTATION_SUMMARY.md` ููุชูุงุตูู ุงููููุฉ
2. ุชุญูู ูู django.log ููุฃุฎุทุงุก Backend
3. ุงุณุชุฎุฏู Chrome DevTools ููุชุดุฎูุต

---

**ููุงุญุธุฉ ูููุฉ**: ุชุฃูุฏ ูู:
- ุงูุฎุงุฏู ูุนูู (`python manage.py runserver`)
- ุชู ุชุณุฌูู ุงูุฏุฎูู ููุณุชุฎุฏู ุตุงูุญ
- ูุฏูู ุตูุงุญูุงุช ุฅูุดุงุก ููุงุชูุฑ
- ูุงุนุฏุฉ ุงูุจูุงูุงุช ุชุญุชูู ุนูู ููุงุฏ ูููุฑูุฏูู
