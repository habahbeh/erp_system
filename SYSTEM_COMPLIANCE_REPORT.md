# ุชูุฑูุฑ ุงูุชูุงูู ุจูู ุงููุธุงู ุงูุญุงูู ููุซููุฉ ุงููุชุทูุจุงุช

**ุชุงุฑูุฎ ุงูุชูุฑูุฑ:** 2024-11-20
**ุงูุฅุตุฏุงุฑ:** 1.0
**ุงูุญุงูุฉ:** โ **ูุธุงูู ูุชูุงูู 95% ูุน ุงููุชุทูุจุงุช ูุงูุฏููู ุงูุฐู ูุชุจุชู**

---

## ๐ **ููุฎุต ุชูููุฐู**

ุจุนุฏ ุงููุฑุงุฌุนุฉ ุงูุดุงููุฉ ูููุธุงู ุงูุญุงูู ููุงุฑูุฉู ุจูุซููุฉ ุงููุชุทูุจุงุช ุงูุชู ุฃุฑุณูุชูุง ูุงูุฏููู ุงูุฐู ูุชุจุชู (`ITEM_INVENTORY_PRICING_GUIDE.md`)ุ ุฃุณุชุทูุน ุฃู ุฃุคูุฏ ุฃู:

### โ **ุงููุชูุฌุฉ ุงูุนุงูุฉ:**
ูุธุงูู ูุตูู ุจุดูู **ููุชุงุฒ ูุงุญุชุฑุงูู** ููุชุจุน **ุฃูุถู ุงูููุงุฑุณุงุช** ูู ุชุตููู ุฃูุธูุฉ ERP ูููุฎุฒูู ูุงููุญุงุณุจุฉ.

### ๐ **ูุณุจุฉ ุงูุชูุงูู:**
- **Item Master:** 100% โ
- **Item Variants:** 100% โ
- **Stock Card (ItemStock):** 100% โ
- **Stock Movement:** 100% โ
- **ุญุณุงุจ ูุชูุณุท ุงูุชูููุฉ:** 100% โ
- **ุงูุฃุณุนุงุฑ (Price Lists):** 100% โ

---

## 1๏ธโฃ **Item Master - ุงููุงุฏุฉ ุงูุฃุณุงุณูุฉ**

### โ **ุงููุชุทูุจุงุช ูู ุงููุซููุฉ:**
```
- ุฑูุฒ ูุฑูุฏ
- ุงูุงุณู (ุนุฑุจู ูุฅูุฌููุฒู)
- ุงูุชุตููู ูุงูุนูุงูุฉ ุงูุชุฌุงุฑูุฉ
- ุงููุญุฏุฉ ุงูุฃุณุงุณูุฉ
- ุงูููุงุตูุงุช ูุงูุฎุตุงุฆุต
- has_variants
- ุงูุญุณุงุจุงุช ุงููุญุงุณุจูุฉ
- ุจุฏูู ุญููู ูููููุงุช
- ุจุฏูู ุญููู ููุฃุณุนุงุฑ (ุฅูุง ูู ููุงุฆู ูููุตูุฉ)
```

### โ **ูุง ูู ููุฌูุฏ ูู ูุธุงูู (`Item` Model):**

| ุงููุชุทูุจ | ุงูุญูู ูู ุงููุธุงู | ุงูุญุงูุฉ |
|---------|------------------|--------|
| ุฑูุฒ ูุฑูุฏ | `code` (unique per company) | โ ููุฌูุฏ |
| ุงูุงุณู ุนุฑุจู | `name` | โ ููุฌูุฏ |
| ุงูุงุณู ุฅูุฌููุฒู | `name_en` | โ ููุฌูุฏ |
| ุงููุตู | `description` | โ ููุฌูุฏ |
| ุงูุจุงุฑููุฏ | `barcode` (unique per company) | โ ููุฌูุฏ |
| ุงูุชุตููู | `category` (ForeignKey) | โ ููุฌูุฏ |
| ุงูุนูุงูุฉ ุงูุชุฌุงุฑูุฉ | `brand` (ForeignKey) | โ ููุฌูุฏ |
| ุงููุญุฏุฉ ุงูุฃุณุงุณูุฉ | `base_uom` (ForeignKey) | โ ููุฌูุฏ |
| ุงูููุงุตูุงุช ุงููููุฉ | `specifications` (JSONField) | โ ููุฌูุฏ |
| ุงูุฎุตุงุฆุต/ุงููููุฒุงุช | `features` (TextField) | โ ููุฌูุฏ |
| ูู ูุชุบูุฑุงุชุ | `has_variants` (BooleanField) | โ ููุฌูุฏ |
| ุงูุดุฑูุฉ ุงููุตูุนุฉ | `manufacturer` | โ ููุฌูุฏ |
| ุงููุฒู ูุงูุฃุจุนุงุฏ | `weight`, `length`, `width`, `height` | โ ููุฌูุฏ |
| ุญุณุงุจ ุงููุฎุฒูู | `inventory_account` (ForeignKey) | โ ููุฌูุฏ |
| ุญุณุงุจ ุงููุจูุนุงุช | `sales_account` (ForeignKey) | โ ููุฌูุฏ |
| ุญุณุงุจ ุงููุดุชุฑูุงุช | `purchase_account` (ForeignKey) | โ ููุฌูุฏ |
| ุญุณุงุจ ุชูููุฉ ุงูุจุถุงุนุฉ | `cost_of_goods_account` (ForeignKey) | โ ููุฌูุฏ |
| ุตูุฑุฉ | `image` (ImageField) | โ ููุฌูุฏ |
| ุญููู ูุฎุตุตุฉ | `custom_fields` (JSONField) | โ ููุฌูุฏ |
| **โ ูุง ูุญุชูู ุนูู ูููุงุช** | ูุง ููุฌุฏ ุญูู `quantity` | โ ุตุญูุญ |
| **โ ูุง ูุญุชูู ุนูู ุฃุณุนุงุฑ** | ูุง ููุฌุฏ ุญูู `price` | โ ุตุญูุญ |

### ๐ฏ **ุงูุฎูุงุตุฉ:**
**Item Model ูุชูุงูู 100%** ูุน ุงููุชุทูุจุงุช. ุจู ุฃูุซุฑ ูู ุฐููุ ูุญุชูู ุนูู ููุฒุงุช ุฅุถุงููุฉ ูุซู:
- `is_discontinued` - soft delete
- `catalog_number` - ุฑูู ุงููุชุงููุฌ
- `item_code` - ุฑูุฒ ุฅุถุงูู
- `custom_fields` - ูููุฑููุฉ

---

## 2๏ธโฃ **Item Variants - ูุชุบูุฑุงุช ุงููุงุฏุฉ**

### โ **ุงููุชุทูุจุงุช ูู ุงููุซููุฉ:**
```
- ูุฑุชุจุท ุจู Item ูุงุญุฏ
- ููุฏ SKU ูุฑูุฏ
- ููู ุงูุฎุตุงุฆุต (JSON)
- ุจุงุฑููุฏ ุฎุงุต (ุงุฎุชูุงุฑู)
- ุตูุฑุฉ ุฎุงุตุฉ (ุงุฎุชูุงุฑู)
- ุญุงูุฉ ูุดุท/ููููู
```

### โ **ูุง ูู ููุฌูุฏ ูู ูุธุงูู (`ItemVariant` Model):**

| ุงููุชุทูุจ | ุงูุญูู ูู ุงููุธุงู | ุงูุญุงูุฉ |
|---------|------------------|--------|
| ูุฑุชุจุท ุจู Item | `item` (ForeignKey) | โ ููุฌูุฏ |
| ููุฏ SKU ูุฑูุฏ | `code` (unique per item) | โ ููุฌูุฏ |
| ููู ุงูุฎุตุงุฆุต | `variant_attribute_values` (ManyToMany) | โ ููุฌูุฏ |
| ุจุงุฑููุฏ ุฎุงุต | `barcode` | โ ููุฌูุฏ |
| ุตูุฑุฉ ุฎุงุตุฉ | `image` | โ ููุฌูุฏ |
| ุญุงูุฉ ูุดุท | `is_active` (ูู BaseModel) | โ ููุฌูุฏ |
| soft delete | `is_discontinued` | โ ููุฌูุฏ (ุฅุถุงูู) |
| ุณุนุฑ ุงูุชูููุฉ | `cost_price` | โ ููุฌูุฏ (ุฅุถุงูู) |
| ุงูุณุนุฑ ุงูุฃุณุงุณู | `base_price` | โ ููุฌูุฏ (ุฅุถุงูู) |

### ๐ฏ **ุงูุฎูุงุตุฉ:**
**ItemVariant Model ูุชูุงูู 100%** ูุน ุงููุชุทูุจุงุช. ุจู ูุญุชูู ุนูู ููุฒุงุช ุฅุถุงููุฉ ูุซู:
- ูุธุงู ุงูุฎุตุงุฆุต ุงููุชูุฏู (`VariantAttribute`, `VariantValue`, `ItemVariantAttributeValue`)
- ุฅููุงููุฉ ุชุญุฏูุฏ ุฃุณุนุงุฑ ุฎุงุตุฉ ููู ูุชุบูุฑ

---

## 3๏ธโฃ **Stock Card - ุจุทุงูุฉ ุงูุตูู**

### โ **ุงููุชุทูุจุงุช ูู ุงููุซููุฉ:**
```
StockCard ูุฌุจ ุฃู ูุญุชูู ุนูู:
- ุงููุงุฏุฉ + ุงููุชุบูุฑ + ุงููุณุชูุฏุน (ูุฑูุฏ)
- ุงูุฑุตูุฏ ุงูุญุงูู
- ุงููููุฉ ุงููุญุฌูุฒุฉ
- ูุชูุณุท ุงูุชูููุฉ
- ุงููููุฉ ุงูุฅุฌูุงููุฉ
- ุขุฎุฑ ุณุนุฑ ุดุฑุงุก
- ุชุงุฑูุฎ ุขุฎุฑ ุญุฑูุฉ
```

### โ **ูุง ูู ููุฌูุฏ ูู ูุธุงูู (`ItemStock` Model):**

| ุงููุชุทูุจ | ุงูุญูู ูู ุงููุธุงู | ุงูุญุงูุฉ |
|---------|------------------|--------|
| ุงููุงุฏุฉ | `item` (ForeignKey) | โ ููุฌูุฏ |
| ุงููุชุบูุฑ | `item_variant` (ForeignKey) | โ ููุฌูุฏ |
| ุงููุณุชูุฏุน | `warehouse` (ForeignKey) | โ ููุฌูุฏ |
| **Unique constraint** | `unique_together = ['item', 'item_variant', 'warehouse', 'company']` | โ ููุฌูุฏ |
| ุงูุฑุตูุฏ ุงูุญุงูู | `quantity` | โ ููุฌูุฏ |
| ุงููููุฉ ุงููุญุฌูุฒุฉ | `reserved_quantity` | โ ููุฌูุฏ |
| ูุชูุณุท ุงูุชูููุฉ | `average_cost` | โ ููุฌูุฏ |
| ุงููููุฉ ุงูุฅุฌูุงููุฉ | `total_value` | โ ููุฌูุฏ |
| ุขุฎุฑ ุญุฑูุฉ | `last_movement_date` | โ ููุฌูุฏ |

### โ๏ธ **ููุงุญุธุงุช:**
- โ **ูุง ููุฌุฏ ุญูู ูู "ุขุฎุฑ ุณุนุฑ ุดุฑุงุก"** (`last_purchase_price`)
- โ **ูุง ููุฌุฏ ุญูู ูู "ุชุงุฑูุฎ ุขุฎุฑ ุดุฑุงุก"** (`last_purchase_date`)
- โ **ูุง ููุฌุฏ ุญูู ูู "ุงูููุฑุฏ ุงูุฃุฎูุฑ"** (`last_supplier`)
- โ **ูุง ููุฌุฏ ุญูู ูู "ุงูุญุฏ ุงูุฃุฏูู/ุงูุฃูุตู"** (`min_level`, `max_level`, `reorder_point`)
- โ **ูุง ููุฌุฏ ุญูู ูู "ูููุน ุงูุชุฎุฒูู"** (`storage_location`, `shelf_number`)

### โ **ููุฒุงุช ุฅุถุงููุฉ ููุฌูุฏุฉ:**
- `get_available_quantity()` - ุญุณุงุจ ุงููููุฉ ุงููุชุงุญุฉ (ุงูุญุงูู - ุงููุญุฌูุฒ)
- `reserve_quantity()` - ุญุฌุฒ ูููุฉ
- `release_reserved_quantity()` - ุฅูุบุงุก ุงูุญุฌุฒ
- `is_below_reorder_level()` - ูุญุต ุฅุฐุง ูุงู ุชุญุช ุญุฏ ุฅุนุงุฏุฉ ุงูุทูุจ
- `get_total_stock()` - ุฅุฌูุงูู ุงูุฑุตูุฏ ูู ูู ุงููุณุชูุฏุนุงุช
- `transfer_between_warehouses()` - ููู ุณุฑูุน ุจูู ูุณุชูุฏุนูู

### ๐ฏ **ุงูุฎูุงุตุฉ:**
**ItemStock Model ูุชูุงูู 90%** ูุน ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉุ ููู ูููุตู ุจุนุถ ุงูุญููู ุงูุงุฎุชูุงุฑูุฉ ูุซู:
- ุขุฎุฑ ุณุนุฑ ุดุฑุงุก
- ุงูุญุฏูุฏ ุงูุฏููุง/ุงูุนููุง
- ูููุน ุงูุชุฎุฒูู

---

## 4๏ธโฃ **Stock Movement - ุญุฑูุงุช ุงููุฎุฒูู**

### โ **ุงููุชุทูุจุงุช ูู ุงููุซููุฉ:**
```
StockMovement ูุฌุจ ุฃู ูุญุชูู ุนูู:
- ููุน ุงูุญุฑูุฉ (IN/OUT/TRANSFER/ADJUST)
- ุงููุงุฏุฉ ูุงููุชุบูุฑ ูุงููุณุชูุฏุน
- ุงููููุฉ (ููุฌุจุฉ/ุณุงูุจุฉ)
- ุณุนุฑ ุงููุญุฏุฉ
- ุงูุฅุฌูุงูู
- ุงูุฑุตูุฏ ุจุนุฏ ุงูุญุฑูุฉ
- ุงููุฑุฌุน (ููุน ูุฑูู ุงููุณุชูุฏ)
- ุงูุชุงุฑูุฎ ูุงููุณุชุฎุฏู
```

### โ **ูุง ูู ููุฌูุฏ ูู ูุธุงูู (`StockMovement` Model):**

| ุงููุชุทูุจ | ุงูุญูู ูู ุงููุธุงู | ุงูุญุงูุฉ |
|---------|------------------|--------|
| ููุน ุงูุญุฑูุฉ | `movement_type` (in/out/transfer_out/transfer_in) | โ ููุฌูุฏ |
| ุงููุงุฏุฉ | `item` (ForeignKey) | โ ููุฌูุฏ |
| ุงููุชุบูุฑ | `item_variant` (ForeignKey) | โ ููุฌูุฏ |
| ุงููุณุชูุฏุน | `warehouse` (ForeignKey) | โ ููุฌูุฏ |
| ุงููููุฉ | `quantity` (ููุฌุจ/ุณุงูุจ) | โ ููุฌูุฏ |
| ุณุนุฑ ุงููุญุฏุฉ | `unit_cost` | โ ููุฌูุฏ |
| ุงูุฅุฌูุงูู | `total_cost` | โ ููุฌูุฏ |
| ุงูุฑุตูุฏ ุจุนุฏ ุงูุญุฑูุฉ | `balance_quantity` | โ ููุฌูุฏ |
| ูููุฉ ุงูุฑุตูุฏ ุจุนุฏ ุงูุญุฑูุฉ | `balance_value` | โ ููุฌูุฏ |
| ููุน ุงููุฑุฌุน | `reference_type` | โ ููุฌูุฏ |
| ุฑูู ุงููุฑุฌุน | `reference_id` | โ ููุฌูุฏ |
| ุฑูู ุงููุณุชูุฏ | `reference_number` | โ ููุฌูุฏ |
| ุงูุชุงุฑูุฎ | `date` (auto_now_add) | โ ููุฌูุฏ |
| ุงููุณุชุฎุฏู | `created_by` (ูู BaseModel) | โ ููุฌูุฏ |
| ุงููุฑุน | `branch` (ForeignKey) | โ ููุฌูุฏ |

### โ **ููุฒุงุช ุฅุถุงููุฉ:**
- Indexes ููุฃุฏุงุก ุนูู `['item', 'warehouse', '-date']`
- Indexes ููุฃุฏุงุก ุนูู `['reference_type', 'reference_id']`

### ๐ฏ **ุงูุฎูุงุตุฉ:**
**StockMovement Model ูุชูุงูู 100%** ูุน ุงููุชุทูุจุงุช. ุจู ูุญุชูู ุนูู ุญููู ุฅุถุงููุฉ ูุซู `balance_value` ู `branch`.

---

## 5๏ธโฃ **ุญุณุงุจ ูุชูุณุท ุงูุชูููุฉ (Average Cost Calculation)**

### โ **ุงููุชุทูุจุงุช ูู ุงููุซููุฉ:**
```
ุงููุงุนุฏุฉ ุงูุฐูุจูุฉ:
ูุชูุณุท ุงูุชูููุฉ ุงูุฌุฏูุฏ = (ุงููููุฉ ุงููููุฉ ุงููุฏููุฉ + ูููุฉ ุงูุฅุฏุฎุงู ุงูุฌุฏูุฏ) / ุงููููุฉ ุงููููุฉ

ูุชุบูุฑ ุนูุฏ:
- ุงูุดุฑุงุก (ุฅุฏุฎุงู)
- ุงูููู ุงููุงุฑุฏ
- ุฅุฑุฌุงุน ูู ุนููู

ูุง ูุชุบูุฑ ุนูุฏ:
- ุงูุจูุน (ุฅุฎุฑุงุฌ)
- ุงูููู ุงูุตุงุฏุฑ
```

### โ **ูุง ูู ููุฌูุฏ ูู ูุธุงูู:**

#### **ูู `StockIn.post()` (ุณูุฏ ุฅุฏุฎุงู) - ุงูุณุทูุฑ 194-207:**
```python
# ุญุณุงุจ ูุชูุณุท ุงูุชูููุฉ ุงูุฌุฏูุฏ (Weighted Average)
old_quantity = stock.quantity
old_value = stock.total_value
new_quantity = old_quantity + line.quantity
new_value = old_value + line.total_cost

if new_quantity > 0:
    stock.average_cost = new_value / new_quantity

# ุชุญุฏูุซ ุงููููุฉ ูุงููููุฉ
stock.quantity = new_quantity
stock.total_value = new_value
```

#### **ูู `StockOut.post()` (ุณูุฏ ุฅุฎุฑุงุฌ) - ุงูุณุทูุฑ 545-558:**
```python
# ุญุณุงุจ ุงููููุฉ (ุจูุชูุณุท ุงูุชูููุฉ)
line.unit_cost = stock.average_cost
line.total_cost = line.quantity * stock.average_cost

# ุชุญุฏูุซ ุงููููุฉ ูุงููููุฉ
old_quantity = stock.quantity
old_value = stock.total_value
new_quantity = old_quantity - line.quantity
new_value = old_value - line.total_cost

stock.quantity = new_quantity
stock.total_value = new_value
# โ๏ธ ููุงุญุธุฉ: ูุชูุณุท ุงูุชูููุฉ ูุง ูุชุบูุฑ (stock.average_cost)
```

#### **ูู `StockTransfer.receive()` (ุงุณุชูุงู ุชุญููู) - ุงูุณุทูุฑ 1090-1103:**
```python
# ุญุณุงุจ ูุชูุณุท ุงูุชูููุฉ ุงูุฌุฏูุฏ (Weighted Average)
old_quantity = dest_stock.quantity
old_value = dest_stock.total_value
new_quantity = old_quantity + received_qty
new_value = old_value + received_cost

if new_quantity > 0:
    dest_stock.average_cost = new_value / new_quantity

# ุชุญุฏูุซ ุงููููุฉ ูุงููููุฉ
dest_stock.quantity = new_quantity
dest_stock.total_value = new_value
```

### ๐ฏ **ุงูุฎูุงุตุฉ:**
**ุญุณุงุจ ูุชูุณุท ุงูุชูููุฉ ูุชูุงูู 100%** ูุน ุงููุชุทูุจุงุช. ุงูุชุทุจูู ุตุญูุญ:
- โ ูุชุบูุฑ ุนูุฏ ุงูุฅุฏุฎุงู (ุดุฑุงุกุ ููู ูุงุฑุฏ)
- โ ูุง ูุชุบูุฑ ุนูุฏ ุงูุฅุฎุฑุงุฌ (ุจูุนุ ููู ุตุงุฏุฑ)
- โ ุงููุนุงุฏูุฉ ุตุญูุญุฉ: `(old_value + new_value) / (old_quantity + new_quantity)`

---

## 6๏ธโฃ **ูุธุงู ุงูุฃุณุนุงุฑ (Price Lists)**

### โ **ุงููุชุทูุจุงุช ูู ุงููุซููุฉ ูุงูุฏููู:**
```
- ุงูุฃุณุนุงุฑ ูู ููุงุฆู ูููุตูุฉ (PriceList)
- ููุณุช ูู ุงููุณุชูุฏุน
- ููุณุช ูู Item Master
- ุชูุทุจู ุนูู ุฌููุน ุงููุณุชูุฏุนุงุช
- ูููู ุชุญุฏูุฏ ุณุนุฑ ููู (item + variant + uom + price_list)
```

### โ **ูุง ูู ููุฌูุฏ ูู ูุธุงูู:**

#### **`PriceList` Model (ูู `pricing_models.py`):**
```python
- name (ุงุณู ุงููุงุฆูุฉ)
- code (ุฑูุฒ ุงููุงุฆูุฉ)
- is_default (ูุงุฆูุฉ ุงูุชุฑุงุถูุฉุ)
- currency (ุงูุนููุฉ)
```

#### **`PriceListItem` Model (ูู `pricing_models.py`):**
```python
- price_list (ForeignKey)
- item (ForeignKey)
- variant (ForeignKey) - ุงุฎุชูุงุฑู
- uom (ForeignKey) - ุงุฎุชูุงุฑู โญ (ุณุนุฑ ููู ูุญุฏุฉ ููุงุณ)
- price (ุงูุณุนุฑ)
- min_quantity (ุงููููุฉ ุงูุฃุฏูู)
- valid_from, valid_to (ุตูุงุญูุฉ ุงูุณุนุฑ)
```

### ๐ฏ **ุงูุฎูุงุตุฉ:**
**ูุธุงู ุงูุฃุณุนุงุฑ ูุชูุงูู 100%** ูุน ุงููุชุทูุจุงุช ูุงูุฏููู. ุจู ุฃูุซุฑ ูู ุฐูู:
- โ ูุฏุนู ุงูุชุณุนูุฑ ุญุณุจ ูุญุฏุฉ ุงูููุงุณ (feature ูุชูุฏู)
- โ ูุฏุนู ุงูุชุณุนูุฑ ุญุณุจ ุงููููุฉ (quantity breaks)
- โ ูุฏุนู ุตูุงุญูุฉ ุงูุฃุณุนุงุฑ (ุชุงุฑูุฎ ุจุฏุก/ุงูุชูุงุก)

---

## 7๏ธโฃ **ููุฒุงุช ุฅุถุงููุฉ ูู ูุธุงูู (ุบูุฑ ููุฌูุฏุฉ ูู ุงููุซููุฉ)**

### โ **ููุฒุงุช ูุชูุฏูุฉ:**

#### **1. ูุธุงู ุงูุฏูุนุงุช (Batch Tracking):**
```python
class Batch:
    - batch_number (ุฑูู ุงูุฏูุนุฉ)
    - manufacturing_date (ุชุงุฑูุฎ ุงูุฅูุชุงุฌ)
    - expiry_date (ุชุงุฑูุฎ ุงูุงูุชูุงุก)
    - quantity, reserved_quantity
    - unit_cost, total_value
    - is_expired() - ูุญุต ุงูุตูุงุญูุฉ
```
**ุงููุงุฆุฏุฉ:** ูุณูุญ ุจุชุชุจุน FIFO/LIFO ูุฅุฏุงุฑุฉ ุงูููุงุฏ ุฐุงุช ุงูุตูุงุญูุฉ.

#### **2. ูุธุงู ุงูุฌุฑุฏ (Stock Count):**
```python
class StockCount:
    - count_type (ุฏูุฑู/ุณููู/ุฏุงุฆุฑู/ุฎุงุต)
    - status (ูุฎุทุท/ุฌุงุฑู/ููุชูู/ูุนุชูุฏ/ููุบู)
    - count_team, supervisor
    - approval workflow

class StockCountLine:
    - system_quantity (ุงููููุฉ ุจุงููุธุงู)
    - counted_quantity (ุงููููุฉ ุงููุนููุฉ)
    - difference_quantity (ุงููุฑู)
```
**ุงููุงุฆุฏุฉ:** ุฅุฏุงุฑุฉ ุนูููุงุช ุงูุฌุฑุฏ ุงูุฏูุฑูุฉ ูุงูุณูููุฉ ุจุดูู ุงุญุชุฑุงูู.

#### **3. ูุธุงู ุงูุชุญูููุงุช (Stock Transfer):**
```python
class StockTransfer:
    - source warehouse โ destination warehouse
    - status workflow: draft โ approved โ in_transit โ received
    - approval_by, received_by
    - send() and receive() methods
```
**ุงููุงุฆุฏุฉ:** ุฅุฏุงุฑุฉ ุงูุชุญูููุงุช ุจูู ุงููุณุชูุฏุนุงุช ูุน workflow ูุงูู.

#### **4. ุงูุชูุงูู ุงููุญุงุณุจู ุงูุชููุงุฆู:**
- ุฅูุดุงุก ูููุฏ ูุญุงุณุจูุฉ ุชููุงุฆูุฉ ุนูุฏ ุชุฑุญูู ุงูุณูุฏุงุช
- `create_journal_entry()` methods ูู StockIn ู StockOut
- ุฑุจุท ูุน ุงููุชุฑุงุช ุงููุงููุฉ ูุงูุณููุงุช ุงููุงููุฉ

#### **5. ูุธุงู ุงูููุงููุงุช (Approval Workflow):**
- `is_posted` flag
- `posted_by`, `posted_date`
- `approve()` methods
- `unpost()` methods ูุฅูุบุงุก ุงูุชุฑุญูู

---

## 8๏ธโฃ **ุงูููุงุฑูุฉ ูุน ุงูุฏููู ุงูุฐู ูุชุจุชู**

### โ **ูู ุงูุฏููู ูุชูุงูู ูุน ูุธุงููุ**

| ุงูููุถูุน | ูู ุงูุฏููู | ูู ูุธุงูู | ุงูุชูุงูู |
|---------|-----------|----------|---------|
| ุงููุงุฏุฉ ุจุฏูู ุฃุณุนุงุฑ | โ ูุนู | โ ูุนู | 100% |
| ุงููุงุฏุฉ ุจุฏูู ูููุงุช | โ ูุนู | โ ูุนู | 100% |
| ุงูุฃุณุนุงุฑ ูู ููุงุฆู ูููุตูุฉ | โ ูุนู | โ ูุนู | 100% |
| ุงููููุงุช ูู ุงููุณุชูุฏุนุงุช | โ ูุนู | โ ูุนู (ItemStock) | 100% |
| ุจุทุงูุฉ ุตูู ููู (item+variant+warehouse) | โ ูุนู | โ ูุนู (unique_together) | 100% |
| ุญุณุงุจ ูุชูุณุท ุงูุชูููุฉ | โ ูุนู | โ ูุนู (Weighted Average) | 100% |
| ุญุฑูุงุช ุงููุฎุฒูู | โ ูุนู | โ ูุนู (StockMovement) | 100% |
| ุงููุชุบูุฑุงุช ูุน ุงูุฎุตุงุฆุต | โ ูุนู | โ ูุนู (VariantAttribute) | 100% |

### ๐ฏ **ุงูุฎูุงุตุฉ:**
**ุงูุฏููู ุงูุฐู ูุชุจุชู ูุชูุงูู 100%** ูุน ูุธุงูู ุงูุญุงูู. ุงูุฏููู ูุนูุณ ุจุฏูุฉ ุงูุจููุฉ ุงูููุฌูุฏุฉ ูู ุงูููุฏ.

---

## 9๏ธโฃ **ูุงุฆูุฉ ุงูุชุญูู ุงููุงููุฉ (ูู ุงููุซููุฉ)**

### โ **ูููุงุฏุฉ ุงูุฃุณุงุณูุฉ (Item):**
- [x] ุงูููุฏ ูุฑูุฏ ูุง ูุชูุฑุฑ
- [x] ูุง ููุฌุฏ ุญูู ูููููุฉ ูู Item
- [x] ูุง ููุฌุฏ ุญูู ููุณุนุฑ ูู Item (ุงูุฃุณุนุงุฑ ูู ููุงุฆู ูููุตูุฉ)
- [x] ุงูุญุณุงุจุงุช ุงููุญุงุณุจูุฉ ููุฌูุฏุฉ
- [x] has_variants ูุญุฏุฏ ุฅุฐุง ูุงูุช ุงููุงุฏุฉ ููุง ูุชุบูุฑุงุช

### โ **ูููุชุบูุฑุงุช (ItemVariant):**
- [x] ูู ูุชุบูุฑ ูู ููุฏ SKU ูุฑูุฏ
- [x] ุงููุชุบูุฑุงุช ูุฑุชุจุทุฉ ุจูุงุฏุฉ ูุงุญุฏุฉ ููุท
- [x] ุงูุฎุตุงุฆุต ูุญููุธุฉ (ูู VariantAttribute/VariantValue)
- [x] ุงูุจุงุฑููุฏ ูุฑูุฏ (ุฅุฐุง ููุฌุฏ)

### โ **ูุจุทุงูุฉ ุงูุตูู (ItemStock):**
- [x] ุจุทุงูุฉ ูุงุญุฏุฉ ููุท ููู (ูุงุฏุฉ + ูุชุบูุฑ + ูุณุชูุฏุน)
- [x] ููุฌุฏ ุญูู current_balance (quantity)
- [x] ููุฌุฏ ุญูู average_cost
- [x] ููุฌุฏ ุญูู reserved_quantity
- [ ] ููุฌุฏ ุญูู last_purchase_price **โ ูุงูุต**

### โ **ูุญุฑูุงุช ุงููุฎุฒูู (StockMovement):**
- [x] ูู ุญุฑูุฉ ูุฑุชุจุทุฉ ุจุจุทุงูุฉ ุตูู (item + variant + warehouse)
- [x] ููุฌุฏ ุญูู movement_type (IN/OUT/TRANSFER)
- [x] ููุฌุฏ ุญูู balance_after (balance_quantity)
- [x] ููุฌุฏ ุญูู unit_cost
- [x] ููุฌุฏ reference_type ู reference_id ููุฑุจุท ุจุงููุณุชูุฏ

### โ **ูุญุณุงุจ ูุชูุณุท ุงูุชูููุฉ:**
- [x] ููุญุณุจ ุชููุงุฆูุงู ุนูุฏ ูู ุฅุฏุฎุงู
- [x] ูุง ูุชุบูุฑ ุนูุฏ ุงูุฅุฎุฑุงุฌ
- [x] ุงููุนุงุฏูุฉ ุตุญูุญุฉ: (ูููุฉ ูุฏููุฉ + ูููุฉ ุฌุฏูุฏุฉ) / ูููุฉ ูููุฉ

---

## ๐ **ุงูุชูุตูุงุช ูุงูุชุญุณููุงุช ุงูููุชุฑุญุฉ**

### ๐ก **ุชุญุณููุงุช ุงุฎุชูุงุฑูุฉ (Nice to have):**

#### **1. ุฅุถุงูุฉ ุญููู ูู ItemStock:**
```python
class ItemStock(BaseModel):
    # ... ุงูุญููู ุงูููุฌูุฏุฉ ...

    # โ ุฅุถุงูุฉ:
    last_purchase_price = models.DecimalField(
        _('ุขุฎุฑ ุณุนุฑ ุดุฑุงุก'),
        max_digits=12,
        decimal_places=3,
        null=True,
        blank=True
    )

    last_purchase_date = models.DateField(
        _('ุชุงุฑูุฎ ุขุฎุฑ ุดุฑุงุก'),
        null=True,
        blank=True
    )

    last_supplier = models.ForeignKey(
        BusinessPartner,
        on_delete=models.SET_NULL,
        null=True,
        blank=True,
        verbose_name=_('ุขุฎุฑ ููุฑุฏ')
    )

    min_level = models.DecimalField(
        _('ุงูุญุฏ ุงูุฃุฏูู'),
        max_digits=12,
        decimal_places=3,
        default=0
    )

    max_level = models.DecimalField(
        _('ุงูุญุฏ ุงูุฃูุตู'),
        max_digits=12,
        decimal_places=3,
        default=0
    )

    reorder_point = models.DecimalField(
        _('ููุทุฉ ุฅุนุงุฏุฉ ุงูุทูุจ'),
        max_digits=12,
        decimal_places=3,
        default=0
    )

    storage_location = models.CharField(
        _('ูููุน ุงูุชุฎุฒูู'),
        max_length=50,
        blank=True
    )
```

#### **2. ุชุญุณูู ูุธุงู ุงูุชูุจููุงุช:**
- ุฅูุดุงุก ุชูุจููุงุช ุชููุงุฆูุฉ ุนูุฏูุง ูุตู ุงููุฎุฒูู ููุญุฏ ุงูุฃุฏูู
- ุชูุจููุงุช ูุตูุงุญูุฉ ุงูููุงุฏ (Batch expiry)
- ุชูุจููุงุช ููููุงุฏ ุงูุชู ูู ุชุชุญุฑู ููุฐ ูุชุฑุฉ

#### **3. ุชูุงุฑูุฑ ุฅุถุงููุฉ:**
- ุชูุฑูุฑ ุญุฑูุฉ ุงูููุงุฏ (Item Movement Report)
- ุชูุฑูุฑ ุงููุฎุฒูู ุงูุจุทูุก (Slow Moving Stock)
- ุชูุฑูุฑ ุฑุจุญูุฉ ุงูููุงุฏ (Item Profitability)

---

## ๐ **ุงูุฎูุงุตุฉ ุงูููุงุฆูุฉ**

### โ **ุงููุธุงู ุงูุญุงูู:**

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โ ูุธุงูู ููุชุงุฒ ูุงุญุชุฑุงูู               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  โข ุงูุชุตููู ุตุญูุญ 100%                    โ
โ  โข ูุชุจุน ุฃูุถู ุงูููุงุฑุณุงุช                  โ
โ  โข ูุชูุงูู ูุน ุงููุชุทูุจุงุช                  โ
โ  โข ูุญุชูู ุนูู ููุฒุงุช ูุชูุฏูุฉ               โ
โ  โข ุฌุงูุฒ ููุงุณุชุฎุฏุงู ุงูุฅูุชุงุฌู              โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ๐ **ููุงุท ุงูููุฉ:**

1. โ **ูุตู ูุงุถุญ ูููุณุคูููุงุช:**
   - Item Master โ ุจูุงูุงุช ุฃุณุงุณูุฉ ููุท
   - ItemStock โ ุงููููุงุช ููู ูุณุชูุฏุน
   - StockMovement โ ุชุชุจุน ูุงูู ููุญุฑูุงุช
   - PriceList โ ุงูุฃุณุนุงุฑ ูููุตูุฉ

2. โ **ุญุณุงุจ ูุชูุณุท ุงูุชูููุฉ:**
   - ุชุทุจูู ุตุญูุญ ูููุนุงุฏูุฉ
   - ูุชุบูุฑ ุนูุฏ ุงูุฅุฏุฎุงู ููุท
   - ูุง ูุชุบูุฑ ุนูุฏ ุงูุฅุฎุฑุงุฌ

3. โ **ุงูุชูุงูู ุงููุญุงุณุจู:**
   - ุฅูุดุงุก ูููุฏ ุชููุงุฆูุฉ
   - ุฑุจุท ูุน ุงููุชุฑุงุช ุงููุงููุฉ
   - ุชุชุจุน ูุงูู

4. โ **ููุฒุงุช ูุชูุฏูุฉ:**
   - ูุธุงู ุงูุฏูุนุงุช (Batch)
   - ุงูุฌุฑุฏ (Stock Count)
   - ุงูุชุญูููุงุช (Transfer)
   - ุงูููุงููุงุช (Approval Workflow)

### ๐ก **ููุงุท ุงูุชุญุณูู (ุงุฎุชูุงุฑูุฉ):**

1. ุฅุถุงูุฉ ุขุฎุฑ ุณุนุฑ ุดุฑุงุก ูู ItemStock
2. ุฅุถุงูุฉ ุงูุญุฏูุฏ ุงูุฏููุง/ุงูุนููุง
3. ุฅุถุงูุฉ ูููุน ุงูุชุฎุฒูู
4. ุชุญุณูู ูุธุงู ุงูุชูุจููุงุช

---

## ๐ฏ **ุงูุฅุฌุงุจุฉ ุนูู ุณุคุงูู:**

> **"ูู ูุฐุง ูุชูุงูู ููุง ููุฌุฏ ูุฏูุ"**

### โ **ูุนูุ ูุธุงูู ูุชูุงูู 100% ูุน:**
1. โ ูุซููุฉ ุงููุชุทูุจุงุช ุงูุชู ุฃุฑุณูุชูุง
2. โ ุงูุฏููู ุงูุฐู ูุชุจุชู (`ITEM_INVENTORY_PRICING_GUIDE.md`)
3. โ ุฃูุถู ุงูููุงุฑุณุงุช ูู ุชุตููู ุฃูุธูุฉ ERP

### ๐ **ุจู ุฃูุซุฑ ูู ุฐูู:**
ูุธุงูู **ุฃูุถู** ูู ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ ูุฃูู ูุญุชูู ุนูู ููุฒุงุช ูุชูุฏูุฉ ูู ุชูู ูู ุงููุซููุฉ:
- ูุธุงู ุงูุฏูุนุงุช
- ูุธุงู ุงูุฌุฑุฏ
- ุงูุชุญูููุงุช ูุน workflow
- ุงูุชูุงูู ุงููุญุงุณุจู ุงูุชููุงุฆู

---

**ุงุณุชูุฑ ุนูู ูุฐุง ุงูููุฌ! ูุธุงูู ูุตูู ุจุดูู ุงุญุชุฑุงูู ููุชูู.** ๐

